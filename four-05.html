<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale = 1, user-scalable = no" />

    <link href="./engine/css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="./engine/css/master.css" rel="stylesheet" type="text/css">

    <!-- websiteInfo -->
    <script src="./websiteInfo.js" type="text/javascript"></script>

    <!-- ADD FUND TILES -->
    <script>
        const addFundTiles = true;
    </script>

    <!-- Add Scripts -->
    <script defer src="./engine/js/init.js"></script>

    <!-- ADD SMA FUNCTIONALITY -->
    <link href="./SMA/css/sma.css" rel="stylesheet" type="text/css" />
    <script src="./SMA/sma.js" type="text/javascript"></script>


    <style>
        @media (max-width: 1700px) {



            @media (max-height: 770px) {}
        }

        @media (max-width: 1300px) {}

        /* 
        #chart .x-axis .tick:first-of-type {
            text-anchor: start;
        } */

        #chart-4 .tick line,
        #chart-3 .tick line {
            display: block;
            opacity: .2;
        }


        #main-grid {
            display: grid;
            width: 100%;
            height: 100%;

            grid-template-columns: 20% 78%;
            column-gap: 2%;
        }

        ul {
            list-style: none;
        }

        li {
            font-size: clamp(12px, 1.25vw, 20px);
            line-height: clamp(18px, 1.35vw, 25px);
            cursor: pointer;
            -webkit-text-stroke: medium;
            -webkit-text-stroke-color: transparent;
            transition: .3s all ease-in-out;
            margin-bottom: 8%;
        }

        .li-active {
            /* font-weight: bold; */
            -webkit-text-stroke-color: #005F9E;
            color: #005F9E;
            letter-spacing: 1.1px;
        }

        .content-01-header {
            font-size: clamp(25px, 4.8vw, 70px);
            letter-spacing: -1.09px;
            font-weight: 900;
            width: 70%;
            width: 23ch;
            line-height: 1.1em;
        }

        div#content-02 {
            height: 100%;
            width: 100%;
            display: flex;
            flex-flow: column;
            flex-grow: 1;
        }

        .content-01-text-row,
        .content-02-text-row,
        .content-03-text-row {


            font-size: clamp(12px, 1.4vw, 26px);
            line-height: clamp(9px, 2.04vw, 33px);
            /* flex-grow: .8; */
            /* width: 91%; */
        }

        .content-01-bottom {
            display: grid;
            grid-template-columns: 29% auto 29% auto 29%;
            grid-template-columns: 35% 10% 35%;
            padding-bottom: 3%;
            padding-left: 3%;
        }

        .content-01-card {
            width: 100%;
            height: 100%;
            box-shadow: 0px 15px 30px #0000001A;
            padding: 8% 7%;
            text-align: center;
            border: 2px solid rgba(0, 41, 75, 0);
            transition: border .3s ease-in-out;
        }

        .content-01-card:hover {
            border: 2px solid rgba(0, 41, 75, 1);
        }

        .content-01-card-title {
            color: #6F6F6F;
            letter-spacing: 1.35px;
            text-transform: uppercase;
            font-weight: 900;
        }

        .content-01-card-val {
            font-size: clamp(70px, 7.5vw, 120px);
            letter-spacing: -.05em;
            color: #363636;
            opacity: .87;
            line-height: 1.35em;
        }

        .content-01-card-text {
            line-height: 1.25;
        }

        .text-blue {
            color: #005F9E;
        }

        .content-01-space {
            font-weight: 700;
            letter-spacing: -2px;
            color: #6F6F6F;
            text-align: center;
            align-self: center;
        }

        .content-02-bottom-title {
            letter-spacing: 0.23px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            height: 90%;
        }

        .content-02-bottom {
            flex-grow: 1;
            display: flex;
            flex-flow: column;
            padding-bottom: 4%;
            height: 100%;
            padding-top: 2%;
        }

        .flex-row {
            display: flex;
            margin-bottom: 60px;
        }

        .content-02-bottom-card {
            max-width: 1447px;
            box-shadow: 0px 15px 30px #0000001A;
            padding: 20px;
            height: 310px;
            border: 2px solid transparent;
            transition: .3s all ease-in-out;
            display: grid;
            grid-template-columns: 1.3fr 1fr;
        }

        .content-02-bottom-card:hover {
            border-color: #00294B;
        }


        .box-row {
            min-width: 600px;
            display: grid;
            grid-template-columns: .3fr .5fr .75fr 1fr 1fr;
            text-align: center;
            margin-bottom: 5px;
            height: 50%;
        }

        .box-row p {
            font-size: 15px;
            letter-spacing: 0.01px;
            line-height: 23px;
            color: #363636;
            align-self: center;
            text-align: left;
        }

        .box {
            justify-content: flex-end;
            display: flex;
            align-items: center;
            margin-right: 5px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            height: 100%;
            background-color: #005F9E;
            justify-content: center;
        }

        .terq-box,
        .box-1 {
            justify-content: center;
            padding-right: 0;
        }

        .terq-box {
            background-color: #00AEA9;
        }

        .subtext {
            font-size: 20px;
        }

        .box-1 {
            flex-grow: 2;
        }

        .box-2 {
            flex-grow: 3;
        }

        .box-3 {
            flex-grow: 4;
        }

        .box-4 {
            flex-grow: 5;
        }


        .content {
            position: absolute;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease-in-out;
        }

        div#content-01 {
            height: 100%;
            width: 100%;
            display: flex;
            flex-flow: column;
            flex-grow: 1;
            overflow: hidden;
        }

        .col-02 {
            position: relative;
            height: 100%;
        }

        .active {
            opacity: 1;
            pointer-events: all;
        }

        .arrow-container {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            align-items: flex-end;
            height: 70%;
        }

        .arrow-img {
            margin-bottom: 110%;
            width: clamp(30px, 2vw, 100px);
            padding: 5%;
            padding-left: 20%;
        }

        ul {
            padding: 0;
        }

        /* .multi-person-icon {
            width: 90px;
            margin-top: 22px;
        } */

        .span-col-4 {
            grid-column: 2/5;
        }

        .content-03-bottom {
            height: 100%;
        }

        #content-03-quote {
            display: grid;
            grid-template-columns: 25% 75%;
            width: 65%;
        }

        #content-03-quote .p-50 {
            line-height: .7;
        }

        #content-03,
        #content-04 {
            height: 100%;
            width: 100%;
        }


        .fund-component {
            background-color: white;
            position: relative;
            box-shadow: 0px 3px 6px #00000029;
            opacity: .2;
            pointer-events: none;
            transition: .3s all ease-in-out;
            user-select: none;
            -moz-user-select: none;
            display: flex;
            z-index: 1;
            align-items: center;
            width: 50%;
            color: black;
            height: clamp(25px, 2.5vw, 50px);
            padding: 3%;

            height: 0;
            padding: 0;
            margin-bottom: 0;
            overflow: hidden;
            transition: .5s all ease-in-out;
        }

        .li-active .fund-component {
            height: clamp(25px, 2.5vw, 50px);
            padding: 3%;
            margin-bottom: 6%;
        }

        .fund-component:hover #forward-arrow {
            margin-left: 20%;
        }


        .fund-component .fund-square {
            padding: 10%;
            margin-right: 11%;
        }

        .fund-component #forward-arrow {
            margin-left: 15%;
            filter: contrast(0.5);
            transition: .3s all ease-in-out;
            position: relative;
            left: 0;
            height: 70%;
        }

        .collapse {
            -webkit-text-stroke-color: transparent;
            letter-spacing: 0.01em;
            overflow: hidden;
            position: relative;
            left: 14%;
            display: flex;
            height: fit-content;
            flex-flow: column;
            justify-content: space-between;
            transition: .5s all ease-in-out;
            cursor: default;
        }

        .li-active .collapse {
            /* height: 15%; */
            overflow: visible;
        }

        /* 
        .li-active .collapse:nth-of-type(2) {
            height: 28%;
        } */

        .li-text {
            margin-bottom: 0;
            transition: .5s margin-bottom ease-in-out;
        }

        .li-active .li-text {
            margin-bottom: 7%;
        }

        .collapse .actionable {
            display: flex;
            height: 0;
            cursor: pointer;
            align-items: center;
            margin-bottom: 0;
            overflow: hidden;
            transition: .5s all ease-in-out;
        }

        .li-active .actionable {
            height: clamp(20px, 2vw, 34px);
            margin-bottom: 2px;
        }

        .outter-circle {
            padding: 7%;
            padding: 2%;
            padding: 4px;
            margin-right: 3.5%;
            border-radius: 100%;
            background: transparent linear-gradient(180deg, #009CDC 0%, #20B07E 53%, #004C46 100%) 0% 0% no-repeat padding-box;
            position: relative;
        }

        .inner-circle {
            background: white;
            height: clamp(7px, 0.9vw, 14px);
            width: clamp(7px, 0.9vw, 14px);
            top: 0;
            left: 0;
            border-radius: 100%;
            display: flex;
            box-shadow: 0px 0px 0px 2px white;
            justify-content: center;
            align-items: center;
        }


        .x-axis .domain,
        .zero-line {
            opacity: .2;
        }


        .myx .tick:first-of-type {
            text-anchor: start;
        }

        /* .myx .tick:last-of-type {
            text-anchor: end;
        } */

        #chart-2 {
            height: 100%;
        }

        #chart-2 svg {
            overflow: visible;
        }

        .dash-line {
            stroke-dasharray: 3 3;
            stroke: black;
            stroke-width: 1.5;
        }

        .green-line {
            stroke: #00A199;
            stroke-width: 1.4;
        }


        .info-window {
            position: absolute;
            width: 100%;
            height: 100%;
            transition: .5s all ease-in-out;
            opacity: 0;
            pointer-events: none;
            background-color: rgba(0, 0, 0, 0.25);
            z-index: 5;
        }

        .inner-window {
            position: relative;
            width: 30%;
            max-width: 500px;
            height: 60%;
            max-height: 600px;
            top: 20%;
            left: 20%;
            background-color: rgba(255, 255, 255, 1);
            box-shadow: 0px 15px 30px rgba(0, 0, 0, 0.16);
            border-top: solid 5px #004C46;
            border-top-width: clamp(2px, .5vw, 6px);
            padding: 2%;
            padding-bottom: 2.5%;
            display: flex;
            flex-flow: column;
        }

        .close-hover {
            position: absolute;
            z-index: 4;
            right: 3%;
            top: 2%;
            transform: scale(1);
            font-size: clamp(12px, 1.7vw, 20px);
            font-weight: 900;
            -webkit-text-stroke: thin;
            transition: .3s all ease-in-out;
            cursor: pointer;
            pointer-events: none;
            user-select: none;
            -moz-user-select: none;
        }

        .close-hover:hover {
            transform: scale(1.1);
        }

        .active .close-hover {
            pointer-events: all;
        }

        .active {
            opacity: 1;
            pointer-events: all;
            z-index: 5;
        }

        .outer-ring {
            border-radius: 100%;
            border: #004C46 3px solid;
            border-width: clamp(2px, 2vw, 4.5px);
            width: clamp(10px, 3vw, 40px);
            height: clamp(10px, 3vw, 40px);
            display: flex;
            justify-content: center;
            align-items: center;
            padding-top: 0px;
            color: #004C46;
            margin: auto;
        }

        .line-toggle-pill-4 {
            min-width: 500px;
        }

        .fade {
            opacity: 0;
            pointer-events: none;
            transition: .3s opacity ease-in-out;
        }

        .fade.active {
            opacity: 1;
            pointer-events: all;
            z-index: 5;
        }

        button path {
            transition: .3s fill ease-in-out;
        }

        #chart svg {
            pointer-events: none;
        }

        .arrow-elements {
            stroke: rgba(0, 0, 0, 0.4);
            stroke-width: 1;
            animation: fade-in 1.5s .3s ease-in-out forwards;
            opacity: 0;
        }


        #chart-1 svg {
            overflow: visible;
        }







        .dot-one,
        .popup-box .green {
            background-color: rgba(0, 142, 119, 1);
        }

        .dot-two,
        .terq {
            background-color: rgba(0, 174, 169, 1);
        }

        .dot-three,
        .sky,
        .teal {
            background-color: rgba(122, 208, 226, 1);
        }

        .dot-four,
        .blue {
            background-color: rgba(0, 95, 154, 1);
        }


        .auto-rows {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-auto-flow: column;
            grid-template-rows: repeat(11, 9%);
        }

        .bot-info,
        .bot-info2 {
            color: black;
            text-anchor: middle;
            font-size: clamp(8px, 1vw, 16px);
            line-height: 1.25;
        }

        .year-text {
            font-weight: 700;
            font-size: clamp(8px, 1vw, 16px);
            line-height: 1.25;
            letter-spacing: 0.02rem;
            fill: black;
            text-anchor: middle;
        }

        .label-text {
            font-weight: 700;
            font-size: clamp(7px, .875vw, 14px);
            line-height: 1.25;
        }


        .rects {
            cursor: pointer;
            pointer-events: all;
        }


        .popup-box {
            position: absolute;
            background-color: white;
            box-shadow: 5px 10px 25px 0px rgba(0, 0, 0, .22);
            font-family: AvenirCon;
            min-width: 29%;
            transition: all .3s ease-in-out;
            opacity: 0;
            /* display: none; */
            cursor: pointer;
            pointer-events: none;
            z-index: 2;
        }

        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            padding-left: 1%;
            padding-right: 2%;
        }

        .three-columns {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
        }

        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            color: white;
            text-transform: uppercase;

            padding: 1.4% 1.9%;
            margin-bottom: clamp(0px, 2%, 12px);
            pointer-events: none;
        }

        .popup-title {
            font-size: clamp(9px, 1.125vw, 18px);
            line-height: 1.25;
            font-weight: 500;
            pointer-events: none;
        }

        .popup-returns {
            font-size: clamp(8px, 1vw, 15px);
            line-height: 1.25;
            pointer-events: none;
        }

        .popup-fund {
            display: grid;
            grid-template-columns: 18% 1fr;
            pointer-events: none;
        }

        .fund-num {
            font-family: Avenir;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(9px, 1.25vw, 20px);
            line-height: 1.25;
            margin-bottom: 25%;
            pointer-events: none;
        }

        .fund-num sup {
            font-size: 12px;
            font-size: clamp(6px, .75vw, 12px);

            top: -3px;
        }

        .fund-content {
            /* margin-right: 50px;
            margin-bottom: 15px; */
            pointer-events: none;
            padding-right: 5%;
            margin-bottom: 4%;
        }

        .fund-name {
            font-weight: 700;
            font-size: clamp(8px, 1vw, 16px);
            line-height: 1.25;
            pointer-events: none;
        }

        .fund-details {
            font-size: clamp(7px, .875vw, 14px);
            line-height: 1.25;
            pointer-events: none;
        }





        #popup-2012em::before,
        #popup-2012ch::before,
        #popup-2012dv::before,
        #popup-2012us::before,
        #popup-2013em::before,
        #popup-2013ch::before,
        #popup-2013dv::before,
        #popup-2013us::before,
        #popup-2014em::before,
        #popup-2014ch::before,
        #popup-2014dv::before,
        #popup-2014us::before,
        #popup-2015em::before,
        #popup-2015ch::before,
        #popup-2015dv::before,
        #popup-2015us::before {
            content: "";
            position: absolute;
            top: 40%;
            left: clamp(-34px, -2.3vw, -24px);
            /* margin-left: -10px; */
            border: solid 20px transparent;
            border-right-color: #fff;
            border-bottom-width: 9px;
            border-right-width: clamp(9px, .9vw, 15px);
            border-top-width: 9px;
            pointer-events: none;
        }

        #popup-2012em::before {
            top: 42%;
        }

        #popup-2012ch::before {
            top: 50%;
        }

        #popup-2012dv::before {
            top: 70%;
        }

        #popup-2012us::before {
            top: 80%;
        }

        #popup-2013em::before {
            top: 40%;
        }

        #popup-2013ch::before {
            top: 50%;
        }

        #popup-2013dv::before {
            top: 50%;
        }

        #popup-2013us::before {
            top: 77%;
        }

        #popup-2014em::before {
            top: 48%;
        }

        #popup-2014ch::before {
            top: 48%;
        }

        #popup-2014dv::before {
            top: 65%;
        }

        #popup-2014us::before {
            top: 76%;
        }

        #popup-2015em::before {
            top: 42%;
        }

        #popup-2015ch::before {
            top: 52%;
        }

        #popup-2015dv::before {
            top: 60%;
        }

        #popup-2015us::before {
            top: 78%;
        }

        #popup-2016em::after,
        #popup-2016ch::after,
        #popup-2016dv::after,
        #popup-2016us::after,
        #popup-2017em::after,
        #popup-2017ch::after,
        #popup-2017dv::after,
        #popup-2017us::after,
        #popup-2018em::after,
        #popup-2018ch::after,
        #popup-2018dv::after,
        #popup-2018us::after,
        #popup-2019em::after,
        #popup-2019ch::after,
        #popup-2019dv::after,
        #popup-2019us::after,
        #popup-2020em::after,
        #popup-2020ch::after,
        #popup-2020dv::after,
        #popup-2020us::after,
        #popup-2021em::after,
        #popup-2021ch::after,
        #popup-2021dv::after,
        #popup-2021us::after {
            content: "";
            position: absolute;
            left: 100%;
            border: solid 20px transparent;
            border-left-color: #fff;
            border-bottom-width: 9px;
            border-left-width: clamp(9px, .9vw, 15px);
            border-top-width: 9px;
            pointer-events: none;
        }

        #popup-2016em::after {
            top: 40%;
        }

        #popup-2016dv::after {
            top: 84%;
        }

        #popup-2016us::after {
            top: 77%;
        }

        #popup-2017em::after {
            top: 47%;
        }

        #popup-2017ch::after {
            top: 69%;
        }

        #popup-2017dv::after {
            top: 84%;
        }

        #popup-2017us::after {
            top: 86%;
        }

        #popup-2018em::after {
            top: 45%;
        }

        #popup-2018ch::after {
            top: 50%;
        }

        #popup-2018dv::after {
            top: 62%;
        }

        #popup-2018us::after {
            top: 70%;
        }

        #popup-2019em::after {
            top: 42%;
        }

        #popup-2019ch::after {
            top: 63%;
        }

        #popup-2019dv::after {
            top: 80%;
        }

        #popup-2019us::after {
            top: 88%;
        }

        #popup-2020em::after {
            top: 54%;
        }

        #popup-2020ch::after {
            top: 50%;
        }

        #popup-2020dv::after {
            top: 52%;
        }

        #popup-2020us::after {
            top: 86%;
        }

        #popup-2021em::after {
            top: 40%;
        }

        #popup-2021ch::after {
            top: 57%;
        }

        #popup-2021dv::after {
            top: 68%;
        }

        #popup-2021us::after {
            top: 85%;
        }

        .toggle-slider {
            background-color: rgba(0, 41, 75, 0.11);
            border-radius: 20px;
            height: 100%;
            left: -1px;
            position: absolute;
            z-index: 0;
            transition: all .4s ease-in-out;
        }

        @media (max-width: 1400px) {

            .line-toggle-pill-4 {
                min-width: 470px;
            }
        }

        @media (max-width: 1200px) {
            .line-toggle-pill-4 {
                min-width: 410px;
            }
        }


        .collapse .sma:hover {
            background-color: white;
        }

        .title-wrapper-2 {
            display: grid;
            grid-template-columns: 43% 56%;
            grid-template-columns: 41% 58%;
            column-gap: 1%;
        }

        .chart-ui-row {
            align-items: center;
        }
    </style>
</head>

<body>

    <!-- page content -->
    <div id="master-float">

        <div id="master-container">
            <!-- navigation -->

            <div id='info-window' class='info-window' onclick="closeBox()">
                <div class='inner-window'>
                    <div class="close-hover" id="close-hover-2" onclick="closeBox()">
                        ✕
                    </div>
                    <div class="outer-ring p-18 bold">
                        i
                    </div>
                    <div class='p-20 center lh-30' style='
                    margin:auto;
                    margin-top: 7%;
                    height: 15%;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    width: 70%;
                    '>
                        U.S. and non U.S. indexes are weighted differently.
                    </div>

                    <div
                        style='margin-top: 9%; display: flex; flex-direction: column; flex-grow: 1; justify-content: space-between;'>

                        <div>
                            <div class='p-18 bold'>
                                Implication
                            </div>
                            <div class='p-16'>
                                Geography-driven asset allocations can miss opportunities.
                            </div>
                        </div>

                        <div>
                            <div class='p-18 bold'>
                                Implementation idea
                            </div>
                            <div class='p-16'>
                                Consider incorporating a global equity strategy as a flexible core.
                            </div>
                        </div>

                        <div>
                            <div class='p-18 bold'>
                                Consider for whom?
                            </div>
                            <div class='p-16'>
                                Most investors who hold equities.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="nav-container"></div>
            <!-- end navigation -->

            <section id="content-size-setter">
                <section id="content-padding">

                    <section id="content-area">

                        <!-- content title -->
                        <div class="title-wrapper-2" style='height: 24%;'>
                            <div>
                                <h1>
                                    Broad, global mandates at the core
                                </h1>
                                <div class='pr'>

                                    <h2 class="pa sub fade active">
                                        Higher correlations have reduced geographic diversification benefits
                                    </h2>
                                    <h2 class="pa sub fade">
                                        79% of the top stocks since 2012 have been based outside the U.S.
                                    </h2>
                                    <div class='fade sub'>
                                        <h2 class="">

                                            <br><span style='opacity: 0; pointer-events: none;'>spacing</span>
                                        </h2>
                                        <div class='p-24 bold' style='margin-top: 4%;'>SMALLCAP World Fund®</div>

                                    </div>
                                    <div class='pa sub fade' style="height: 100%;">
                                        <h2 class="">

                                            <br><span style='opacity: 0; pointer-events: none;'>spacing</span>
                                        </h2>
                                        <div class='p-24 bold' style='margin-top: 4%;position: absolute;
                                        white-space: nowrap;
                                        bottom: 0;'>New Perspective Fund</div>
                                    </div>
                                </div>
                            </div>

                            <div class="pr">
                                <div class='top-right pa fade active'></div>
                                <div class='top-right pa fade'></div>
                                <div class='top-right fade p-20'>

                                    The SMALLCAP World Fund seeks growth of capital by investing in some of the world's
                                    fastest growing and most innovative companies, with market capitalizations of up to
                                    $6 billion at the time of purchase.
                                    <br>
                                    <div id='added-text' class='bold' style="margin-top: 1.5%;">
                                        Figures shown are past results for Class F-2 shares and are not predictive of
                                        results in future periods. Current and future results may be lower or higher
                                        than those shown. Prices and returns will vary, so investors may lose money.
                                        Investing for short periods makes losses more likely. For current information
                                        and month-end results, visit <span class="p-blue"
                                            onclick="window.open('https://capitalgroup.com')"
                                            style='text-decoration: underline; cursor: pointer;'>capitalgroup.com</span>.

                                    </div>
                                </div>
                                <div class='top-right pa fade p-20'>
                                    <div>
                                        New Perspective Fund's flexible, Style-agnostic approach and ability to hold
                                        companies across the globe, regardless of domicile, has resulted in long-term
                                        success.
                                    </div>
                                    <div id='added-text' class='bold fade active' style="margin-top: 1.5%;">
                                        Figures shown are past results for Class F-2 shares and are not predictive of
                                        results in future periods. Current and future results may be lower or higher
                                        than those shown. Prices and returns will vary, so investors may lose money.
                                        Investing for short periods makes losses more likely. For current information
                                        and month-end results, visit <span class="p-blue"
                                            onclick="window.open('https://capitalgroup.com')"
                                            style='text-decoration: underline; cursor: pointer;'>capitalgroup.com</span>.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end content title -->

                        <div id="main-page-content">

                            <div id='main-grid'>
                                <div class="pr">
                                    <div class="col-01 pa" style='height: 100%; width: 100%;'>
                                        <ul>
                                            <li class="item li-active" onclick="switchContent('content-01', this)">
                                                <div class='li-text'>
                                                    01 — Correlation
                                                </div>
                                            </li>
                                            <li class="item" onclick="switchContent('content-02', this)">
                                                <div class='li-text'>
                                                    02 — Top companies
                                                </div>
                                            </li>
                                            <li class="item" onclick="switchContent('content-03', this)">
                                                <div class='li-text'>
                                                    03 — SMALLCAP World Fund
                                                </div>
                                                <div class='collapse'>
                                                    <div class="fund-component p-16">
                                                        <div class="fund-square" style="background-color: #012D72;">
                                                        </div>
                                                        SCWF
                                                        <img id="forward-arrow" class="footer-btn"
                                                            src="./engine/imgs/arrow-right-thicker.svg"
                                                            alt="right-arrow">
                                                    </div>

                                                    <div class='actionable' onclick='showOverlay(0)'>
                                                        <div class="outter-circle">
                                                            <div class="inner-circle">
                                                                <div style="margin: 0; color: #20B07E; position: relative;
                                                                left: .2px; top: .6px" class="p-14 bold">i</div>
                                                            </div>
                                                        </div>
                                                        <div class='p-16 p-black normal'>
                                                            Actionable Insights
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                            <li class="item" onclick="switchContent('content-04', this)">
                                                <div class='li-text'>
                                                    04 — New Perspective Fund
                                                </div>
                                                <div class='collapse'>
                                                    <div class="fund-component p-16">
                                                        <div class="fund-square" style="background-color: #012D72;">
                                                        </div>
                                                        NPF
                                                        <img id="forward-arrow" class="footer-btn"
                                                            src="./engine/imgs/arrow-right-thicker.svg"
                                                            alt="right-arrow">
                                                    </div>
                                                    <div class="fund-component p-16 sma">
                                                        <div class="fund-square" style="background-color: #6F6F6F;">
                                                        </div>
                                                        CGGG
                                                        <img id="forward-arrow" class="footer-btn"
                                                            src="./engine/imgs/arrow-right-thicker.svg"
                                                            alt="right-arrow">
                                                    </div>
                                                    <div class='actionable' onclick='showOverlay(0)'>
                                                        <div class="outter-circle">
                                                            <div class="inner-circle">
                                                                <div style="margin: 0; color: #20B07E; position: relative;
                                                                left: .2px; top: .6px" class="p-14 bold">i</div>
                                                            </div>
                                                        </div>
                                                        <div class='p-16 p-black normal'>
                                                            Actionable Insights
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>

                                        </ul>
                                    </div>
                                </div>
                                <div class="col-02">

                                    <div id="content-01" class="content active">
                                        <section class="chart-ui-row">
                                            <div class="chart-title-wrapper">
                                                <div class="p-16 demi">Rolling five-year correlation between U.S. and
                                                    non-U.S.
                                                    equities
                                                    (1974-2021)
                                                </div>

                                                <!-- <div class="legend-wrapper">
                                                    <div class="legend-item">
                                                        <div class="legend-dot dot-1"
                                                            style="background-color: #009CDC;"></div>
                                                        <span class="p-16">U.S. flexible CPI</span>
                                                    </div>
                                                    <div class="legend-item">
                                                        <div class="legend-dot dot-2"
                                                            style="background-color: #005F9E;"></div>
                                                        <span class="p-16">U.S. sticky CPI</span>
                                                    </div>
                                                </div> -->
                                                <div class='p-16'>
                                                    Regional exposure of each sector within MSCI ACWI
                                                </div>
                                            </div>

                                            <div style="display: flex;">
                                                <div class="toggle-wrapper">
                                                    <div class="p-btn-label p-12 ls-1p2 demi"
                                                        style="color: rgba(127, 127, 127, 1);">
                                                        LINE STYLE</div>
                                                    <toggle class="line-toggle-pill">
                                                        <div id="toggle-slider" class="w50" style="left: 0%;"></div>
                                                        <button onclick="toggleLine()" class="toggle-on">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="21.216"
                                                                height="13.769" viewBox="0 0 21.216 13.769">
                                                                <path id="line" style="fill:rgba(0,41,75, .9);"
                                                                    d="M3.591,19.279,9.956,12.9,14.2,17.147,23.216,7.006l-1.5-1.5L14.2,13.965,9.956,9.721,2,17.688Z"
                                                                    transform="translate(-2 -5.51)"></path>
                                                            </svg>
                                                        </button>
                                                        <button onclick="toggleFill()">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="27"
                                                                height="14" viewBox="0 0 27 14">
                                                                <g transform="translate(-0.429 -8.335)">
                                                                    <path id="mountain" fill="rgba(0,41,75,0.3)"
                                                                        d="M9.5,0,19,14H0Z"
                                                                        transform="translate(8.429 8.335)"></path>
                                                                    <path id="mountain-2" fill="rgba(0, 95, 158, 0.3)"
                                                                        d="M7.5,0,15,10H0Z"
                                                                        transform="translate(0.429 12.335)">
                                                                    </path>
                                                                </g>
                                                            </svg>
                                                        </button>
                                                    </toggle>
                                                </div>
                                                <div class="zoom-btn-container">
                                                    <div class="p-btn-label">ZOOM</div>
                                                    <div class="zoom-btn">
                                                        <button id="zoom-plus" onclick="zoomIn()">+</button>
                                                        <button id="zoom-minus" onclick="zoomOut()">
                                                            <div style="transform: scaleX(1.6)">–</div>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>


                                        </section>

                                        <div class='' id='chart' style='top: 10%; height: 90%;'></div>

                                    </div>

                                    <div id="content-02" class="content">
                                        <section class="chart-ui-row">
                                            <div class="chart-title-wrapper">
                                                <div class="p-16 demi">
                                                    Number of the top 50 stocks each year by company location
                                                </div>

                                                <div class="legend-wrapper">
                                                    <div class="legend-item">
                                                        <div class="legend-dot dot-1"
                                                            style="background-color: #007D64;"></div>
                                                        <span class="p-16">Emerging markets (ex China)</span>
                                                    </div>
                                                    <div class="legend-item">
                                                        <div class="legend-dot dot-2"
                                                            style="background-color: #00AEA9;"></div>
                                                        <span class="p-16">China</span>
                                                    </div>
                                                    <div class="legend-item">
                                                        <div class="legend-dot dot-2"
                                                            style="background-color: #7AD0E2;"></div>
                                                        <span class="p-16">Developed international</span>
                                                    </div>
                                                    <div class="legend-item">
                                                        <div class="legend-dot dot-2"
                                                            style="background-color: #005F9A;"></div>
                                                        <span class="p-16">United States</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </section>

                                        <div class='' id='chart-1' style='top: 10%; height: 90%;'></div>

                                    </div>

                                    <div id="content-03" class="content ">
                                        <div class='p-16 demi'>
                                            Hypothetical value of $10,000 invested on April 30, 1990
                                        </div>
                                        <div class="legend-wrapper" style="margin-top: 0.25%;">
                                            <div class="legend-item">
                                                <div class="legend-dot ocean" style="background-color: #084E8A;">
                                                </div>
                                                <span class="p-16">SMALLCAP World Fund</span>
                                            </div>
                                            <div class="legend-item">
                                                <div class="legend-dot light-grey" style="background-color: #B0A8A3;">
                                                </div>
                                                <span class="p-16">Historical benchmark index <sup>1</sup></span>
                                            </div>
                                        </div>

                                        <div class='' id='chart-2'></div>

                                    </div>

                                    <div id='content-04' class="content">
                                        <section class="chart-ui-row">
                                            <div class="pr">
                                                <div class="menu-4 fade pa active"
                                                    style='width:140%; pointer-events: none; top: 16%;'>
                                                    <div class="p-16 demi">
                                                        Hypothetical value of $10,000 invested on March 13,1973
                                                    </div>
                                                    <div class="legend-wrapper" style="margin-top: 0.25%;">
                                                        <div class="legend-item">
                                                            <div class="legend-dot ocean"
                                                                style="background-color: #084E8A;">
                                                            </div>
                                                            <span class="p-16">New Perspective Fund</span>
                                                        </div>
                                                        <div class="legend-item">
                                                            <div class="legend-dot light-grey"
                                                                style="background-color: #B0A8A3;">
                                                            </div>
                                                            <span class="p-16">Historical benchmark index
                                                                <sup>2</sup></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="menu-4 chart-title-wrapper fade">
                                                    <div class="pr">
                                                        <div class="the-last-thing p-16 demi fade pa"
                                                            style="top: 0; left: 0; width: 100%;">
                                                            Excess returns in value- and growth-led environments
                                                        </div>
                                                        <div class="the-last-thing p-16 demi fade">
                                                            U.S. versus non-U.S.: Three decades of consistent excess
                                                            returns
                                                        </div>
                                                    </div>
                                                    <div class='p-16' style='margin-bottom: 1.5%;'>
                                                        Rolling 3-year returns over a 30-year period through 12/31/21
                                                        <div>

                                                            First plot reflects 3-year period ended 1/31/92
                                                        </div>
                                                    </div>

                                                    <div class="legend-wrapper">
                                                        <div class="legend-item">
                                                            <div class="legend-dot dot-1"
                                                                style="background-color: #8BDDFE;"></div>
                                                            <span class="p-16">1991-1999</span>
                                                        </div>
                                                        <div class="legend-item">
                                                            <div class="legend-dot dot-2"
                                                                style="background-color: #005F9E;"></div>
                                                            <span class="p-16">2000-2009</span>
                                                        </div>
                                                        <div class="legend-item">
                                                            <div class="legend-dot dot-2"
                                                                style="background-color: #11827F;"></div>
                                                            <span class="p-16">2010-2020</span>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                            <div style="display: flex;">
                                                <div class="toggle-wrapper" style='align-items: flex-start;'>

                                                    <toggle class="line-toggle-pill-4">
                                                        <div id="toggle-slider-2" class="toggle-slider"
                                                            style=" left: -1%; width: 34%; pointer-events: none">
                                                        </div>
                                                        <button onclick="toggleScatterPlots(0)" class="toggle-on">
                                                            SUCCESS
                                                        </button>
                                                        <button onclick="toggleScatterPlots(1)" class="">
                                                            VALUE VS. GROWTH
                                                        </button>
                                                        <button onclick="toggleScatterPlots(2)">
                                                            U.S. VS. NON-U.S.
                                                        </button>
                                                    </toggle>
                                                </div>
                                            </div>
                                        </section>

                                        <div class='pr' style='height: 77%;'>
                                            <div class=' scatterchart fade active' id='chart-5' style='height: 107%;'>
                                            </div>

                                            <div class=' scatterchart fade' id='chart-3'> </div>

                                            <div class=' scatterchart fade' id='chart-4'>
                                                <!-- <div id='y-label-2' class='pa center p-16' style='z-index: 6;     
                                                transform: rotate(-90deg);
                                                top: 100%;
                                                left: 0px;
                                                width: 0;
                                                margin-top: -5px;
                                                letter-spacing: -.04rem;
                                                white-space: nowrap;'>
                                                    NPF F-2 excess return (%) vs. Hist. benchmark<sup>1</sup>
                                                </div> -->
                                            </div>

                                            <div class="fade" id='chart-labels'>
                                                <div class='pa center p-18' style='z-index: 6; left: 16%; top: 5%;'>
                                                    Fund led historical benchmark when MSCI World <br>Value outperformed
                                                    MSCI World Growth
                                                </div>
                                                <div class='pa center p-18' style='z-index: 6; left: 66%; top: 5%;'>
                                                    Fund led historical benchmark when MSCI World<br>Growth outperformed
                                                    MSCI World Value
                                                </div>
                                                <div class='pa center p-18' style='z-index: 6; left: 15%; top: 75%;'>
                                                    Fund lagged historical benchmark when MSCI <br>World Value
                                                    outperformed MSCI World Growth
                                                </div>
                                                <div class='pa center p-18' style='z-index: 6; left: 65%; top: 75%;'>
                                                    Fund lagged historical benchmark when MSCI<br>World Growth
                                                    outperformed MSCI World Value
                                                </div>

                                                <div class='bot-title fade pa center p-18'
                                                    style='z-index: 6; width: 100%; top: 97%;'>
                                                    MSCI World Growth Excess Return (% pt) vs. MSCI World Value
                                                </div>
                                                <div class='bot-title fade pa center p-18'
                                                    style='z-index: 6; width: 100%; top: 97%;'>
                                                    S&P 500 Excess Return (% pt) vs. MSCI World ex USA
                                                </div>

                                                <div id='width-only' class='pa center p-16' style='    
                                                        opacity: 0; pointer-events: none;
                                                        white-space: nowrap;
                                                        letter-spacing: -.04rem;
                                                        '>
                                                    New Perspective Fund F-2 excess return (%) vs. Historical
                                                    benchmark<sup>2</sup>
                                                </div>

                                                <div id='width-only-2' class='pa center p-16' style='    
                                                opacity: 0; pointer-events: none;
                                                white-space: nowrap;
                                                letter-spacing: -.04rem;
                                                '>
                                                    NPF F-2 excess return (% pt) vs. Hist. benchmark<sup>2</sup>
                                                </div>

                                                <div id='y-label' class='pa center p-16' style='z-index: 6;     
                                                transform: rotate(-90deg);
                                                top: 100%;
                                                left: 0px;
                                                width: 0;
                                                margin-top: -5px;
                                                letter-spacing: -.04rem;
                                                white-space: nowrap;'>
                                                    New Perspective Fund F-2 excess return (%) vs. Historical
                                                    benchmark<sup>2</sup>
                                                </div>

                                            </div>


                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- disclosure content -->
                            <div id="disclosure-wrapper">
                                Correlation is a statistical measure of how a security and an index move in relation to
                                each other. A correlation ranges from -1 to 1. A positive correlation close to 1 implies
                                that as one moves, either up or down, the other will move in “lockstep,” in the same
                                direction. A negative correlation close to -1 indicates the two have moved in the
                                opposite direction.
                                <br><br>

                                <sup>1</sup> Reflects the the S&P Global &lt;$3 Billion Index through 09/30/2009
                                and the MSCI All Country World Small Cap Index, the fund’s current primary
                                benchmark, thereafter.
                                <br><br>

                                <sup>2</sup>
                                Reflects the results of New Perspective Fund’s historical
                                benchmark indexes: MSCI All Country World Index, October 2011-present; MSCI World
                                Index, fund inception-September 2011. Results reflect dividends net of withholding
                                taxes.
                                <br><br>

                                Sources for Correlation chart: Capital Group, MSCI, Standard & Poor's. S&P
                                500 Index and MSCI World ex USA Index used to represent U.S. and non-U.S. equities,
                                respectively. Includes all five-year rolling periods ending between December 31,
                                1974 and December 31, 2021.
                                <br><br>
                                Sources for Top companies chart: MSCI, RIMES. 2020 as of
                                12/31/21. Returns in U.S. dollars. Top 50 stocks are the companies with the highest
                                total return in the MSCI ACWI each year. Returns table uses S&P 500 and MSCI ACWI ex
                                USA indexes for U.S. and non-U.S., respectively.
                                <br><br>
                                Source for success chart: Capital
                                Group. As of December 31, 2021.
                                <br><br>
                                Sources for Excess returns chart: Morningstar,
                                Capital Group. As of December 31, 2021.
                                <br><br>
                                <span>
                                    Investors should carefully consider
                                    investment objectives, risks, charges and expenses. This and other important
                                    information is contained in the fund prospectuses and summary prospectuses, which
                                    can be obtained from a financial professional and should be read carefully before
                                    investing.
                                </span>
                                <br><br>
                                The market indexes are unmanaged and, therefore, have no expenses.
                                Investors cannot invest directly in an index. There have been periods when the fund
                                has lagged the index.
                                <br><br>
                                Investing outside the United States involves risks, such as
                                currency fluctuations, periods of illiquidity and price volatility. These risks may
                                be heightened in connection with investments in developing countries.
                                <br><br>
                                Small-company
                                stocks entail additional risks, and they can fluctuate in price more than larger
                                company stocks.
                                <br><br>
                                MSCI World Index is a free float-adjusted market
                                capitalization-weighted index that is designed to measure equity market results of
                                developed markets.
                                <br><br>
                                MSCI All Country World Index ex USA is a free float-adjusted
                                market capitalization weighted index that is designed to measure equity market
                                results in the global developed and emerging markets, excluding the United States.
                                The index consists of more than 40 developed and emerging market country indexes.
                                <br><br>
                                MSCI All Country World Index is a free float-adjusted market capitalization weighted
                                index that is designed to measure equity market results in the global developed and
                                emerging markets, consisting of more than 40 developed and emerging market country
                                indexes. Results reflect dividends gross of withholding taxes through December 31,
                                2000, and dividends net of withholding taxes thereafter.
                                <br><br>
                                Standard & Poor's 500
                                Composite Index is a market capitalization-weighted index based on the results of
                                approximately 500 widely held common stocks.
                                <br><br>
                                Cumulative returns for the S&P Global
                                &lt;$3 Billion Index include results from the comparative indexes as follows: S&P Global
                                &lt;$3 Billion (May 2006 to September 2009), S&P Global &lt;$2 Billion (May 2004 to
                                April
                                2006), S&P Developed &lt;$1.5 Billion (January 2000 to April 2004), and S&P Developed
                                &lt;$1.2 Billion (1990 to 1999). The S&P Global indexes include both developed and
                                developing countries. The S&P Developed indexes (used prior to May 2004) only
                                include stocks in developed countries.
                                <br><br>
                                The Standard & Poor’s 500 Composite Index is
                                a product of S&P Dow Jones Indices LLC and/or its affiliates and has been licensed
                                for use by Capital Group. Copyright © 2022 S&P Dow Jones Indices LLC, a division of
                                S&P Global, and/or its affiliates. All rights reserved. Redistribution or
                                reproduction in whole or in part are prohibited without written permission of S&P
                                Dow Jones Indices LLC.
                                <br><br>
                                © 2022 Morningstar, Inc. All rights reserved. The information
                                contained herein: (1) is proprietary to Morningstar and/or its content providers;
                                (2) may not be copied or distributed; and (3) is not warranted to be accurate,
                                complete or timely. Neither Morningstar nor its content providers are responsible
                                for any damages or losses arising from any use of this information. Past performance
                                is no guarantee of future results.
                                <br><br>
                                Statements attributed to an individual represent
                                the opinions of that individual as of the date published and do not necessarily
                                reflect the opinions of Capital Group or its affiliates. This information is
                                intended to highlight issues and should not be considered advice, an endorsement or
                                a recommendation.
                                <br><br>
                                This content, developed by Capital Group, home of American Funds,
                                should not be used as a primary basis for investment decisions and is not intended
                                to serve as impartial investment or fiduciary advice.
                                <br><br>
                                All Capital Group trademarks
                                mentioned are owned by The Capital Group Companies, Inc., an affiliated company or
                                fund. All other company and product names mentioned are the property of their
                                respective companies.
                                <br><br>
                                American Funds Distributors, Inc., member FINRA.
                                <br><br>© 2022
                                Capital Group. All rights reserved.
                            </div>

                            <!-- end disclosure content -->
                        </div>
                    </section>

                </section>
            </section>
        </div>
    </div>
    <!-- end page content -->
</body>

<script src="./data/four5.js"></script>
<script src="./data/four5scatter.js"></script>
<script src="./engine/js/d3.min.js"></script>

<script>
    const BLUE = 'rgba(0, 95, 155, 1)';
    const BLUE50 = 'rgba(0, 95, 155, .3)';
    const BLUE0 = 'rgba(0, 95, 155, 0)';

    const SKY = 'rgba(0, 174, 169, 1)';
    const SKY50 = 'rgba(0, 174, 169, 0.3)';
    const SKY0 = 'rgba(0, 174, 169, 0)';

    const BLUE_GRADIENT = 'url(#BLUE-grad)';
    const SKY_GRADIENT = 'url(#SKY-grad)';

    const shortScreen = window.innerHeight <= 830;

    let zoomed = false;
    let filled = false;
    let lowDate = null;
    let highDate = null;

    data.forEach(el => {
        el.date = new Date(el.date)
    });

    data2.forEach(el => {
        el.date = new Date(el.date)
    });

    scatterData.forEach(el => {
        el.date = new Date(el.date)
    });

    const maxYear = d3.max(data2, d => d.date).getFullYear();
    const minYear = d3.min(data, d => d.date).getFullYear();
    const middleOfData = (new Date((d3.min(data, d => d.date).getTime() + d3.max(data2, d => d.date).getTime()) / 2));
    const totalYearsInData = Math.round((maxYear - minYear));
    const zoomWidth = Math.round(totalYearsInData / 3); // We arbitrarily zoom in to 3x, which shows us 1/3 of the data when zoomed
    const halfZoom = Math.round(zoomWidth / 2); // this is the number of years above/below the midpoint when zoomed

    const oneYear = 31536000000;

    // set the dates for zooming into the middle of the data (when clicking zoom in before interacting with the chart)
    let oldLowDate = new Date(String(middleOfData.getFullYear() - halfZoom));
    let oldHighDate = new Date(String(middleOfData.getFullYear() + halfZoom));

    const iPad = window.innerWidth < 1400 && window.innerHeight > 1000;
    const desktop = window.innerWidth > 1400;
    const smallLapTop = window.innerWidth < 1400 && window.innerHeight < 1000 && window.innerHeight > 750;
    const seismicApp = window.innerWidth < 1100;

    //************************** D3    CHARTS ***************************************************//
    //******************************************************************************************//

    class drawCorrelation {
        constructor() {
            this.draws = 0;
            this.data = data;
            this.data2 = data2;
            this.initVis();
        }
        initVis() {
            const vis = this;

            // CHART
            vis.chartDiv = document.getElementById("chart");
            vis.svg = d3.select(vis.chartDiv).append("svg");

            // APPEND G
            vis.g = vis.svg
                .append('g')
                .attr('class', 'g3')

            vis.zeroLine = vis.g
                .append('line')
                .attr('class', 'zero-line')

            // APPEND LINE

            vis.secondLine = vis.g
                .append('path')
                .attr('stroke', '#00AEA9')
                .attr('stroke-width', 2.5)
                .attr('fill', 'none')

            vis.firstLine = vis.g
                .append('path')
                .attr('stroke', '#002D72')
                .attr('stroke-width', 2.5)
                .attr('fill', 'none')
            // ADD AREA
            vis.tenYearArea = vis.g.append("path")
                .attr('fill', BLUE_GRADIENT);
            vis.areaFill2 = vis.g.append("path")
                .attr('fill', SKY_GRADIENT);

            // APPEND WHITE BOX TO COVER AREA WHEN CHART EXPANDS DURING ZOOM
            vis.whiteBox = vis.svg
                .append('rect')
                .attr('fill', 'white')
                .attr('width', 25)
                .attr('x', 0)
                .attr('y', 0)

            vis.arrow1 = vis.g.append('g').attr('id', "arrow1").attr('class', 'arrow-elements');
            vis.arrow2 = vis.g.append('g').attr('id', "arrow2").attr('class', 'arrow-elements');
            vis.arrow3 = vis.g.append('g').attr('id', "arrow3").attr('class', 'arrow-elements');
            vis.arrow4 = vis.g.append('g').attr('id', "arrow4").attr('class', 'arrow-elements');

            ////////////
            vis.avgText = d3.select(vis.chartDiv)
                .append("div")
                .attr('class', 'avg-text-1')
                .style('position', 'absolute')
                .style('text-align', 'center')
                .style('color', '#002D72')

            vis.avgText2 = d3.select(vis.chartDiv)
                .append("div")
                .attr('class', 'avg-text-2')
                .style('position', 'absolute')
                .style('text-align', 'center')
                .style('color', '#00AEA9')

            // APPEND X AXIS 
            vis.xAxis = vis.g
                .append('g')
                .attr('class', 'axis x-axis p-16')
                .style('text-anchor', 'start')

            // APPEND Y AXIS 
            vis.yAxis = vis.g
                .append('g')
                .style('text-anchor', 'start')
                .attr('class', 'axis y-axis p-16')

            // DEFINE LINEAR GRADIENT
            vis.gradient = vis.svg
                .append('linearGradient')
                .attr('id', 'SKY-grad')
                .attr('x1', 0)
                .attr('y1', 0.2)
                .attr('x2', 0)
                .attr('y2', 1)
                .attr('gradientUnits', 'objectBoundingBox');
            vis.gradient
                .append('stop')
                .attr('offset', '0')
                .attr('stop-color', SKY50);
            vis.gradient
                .append('stop')
                .attr('offset', '1')
                .attr('stop-color', SKY0);

            // DEFINE LINEAR GRADIENT
            vis.gradient = vis.svg
                .append('linearGradient')
                .attr('id', 'BLUE-grad')
                .attr('x1', 0)
                .attr('y1', 0.2)
                .attr('x2', 0)
                .attr('y2', 1)
                .attr('gradientUnits', 'objectBoundingBox');
            vis.gradient
                .append('stop')
                .attr('offset', '0')
                .attr('stop-color', BLUE50);
            vis.gradient
                .append('stop')
                .attr('offset', '1')
                .attr('stop-color', BLUE0);

            // FINALLY, APPEND A TOUCH LAYER TO BYPASS ALL OF OUR TEXT AND OTHER DIVS THAT HAVE BEEN APPENDED
            vis.touchLayer = d3.select(vis.chartDiv).append('div').attr('class', 'touch-layer');

            this.wrangle();
        }

        wrangle(x1 = d3.min(this.data, d => d.date), x2 = d3.max(this.data2, d => d.date)) {
            const vis = this;

            // Extract the width and height that was computed by CSS.
            vis.width = vis.chartDiv.clientWidth;
            vis.height = vis.chartDiv.clientHeight;
            vis.bottom = 33;
            vis.top = 15;
            vis.MARGIN = { top: vis.top, right: vis.width * .02, bottom: vis.bottom, left: vis.width * .05 };
            vis.gWIDTH = vis.width - (vis.MARGIN.left + vis.MARGIN.right);
            vis.gHEIGHT = vis.height - (vis.MARGIN.top + vis.MARGIN.bottom);

            // X SCALE
            vis.x = d3
                .scaleTime()
                .domain([x1, x2])
                .range([0, vis.gWIDTH])

            lowDate = x1;
            highDate = x2;

            // HANDLE CLICKS ///////////////////////////////////////////
            const svgElement = document.querySelector('#chart svg')

            let holding = false;
            let clickOne = null;
            let difference = 0;

            vis.touchLayer.on("mousedown", handleStart);
            vis.touchLayer.on("touchstart", handleStart);

            // attach the mousemove and mouseup to the body in case one wonders off the svg (we use body)
            vis.touchLayer.on("mousemove", handleMove).on("mouseup", handleEnd).on('mouseout', handleEnd)
            vis.touchLayer.on("touchmove", handleMove).on("touchend", handleEnd).on("touchcancel", handleEnd)

            function handleStart() {
                if (zoomed) {
                    clickOne = d3.mouse(svgElement)[0];
                    holding = true;
                }
            }

            // sometimes it's hard to drag your way all the way to the very end of the chart, but if you move the opposite way it works
            let moveTrigger = 0;
            const overflow = oneYear / 5;
            function handleMove() {
                if (zoomed && holding) {
                    d3.event.preventDefault();

                    const clickTwo = d3.mouse(svgElement)[0]
                    const date1 = vis.x.invert(clickOne)
                    const date2 = vis.x.invert(clickTwo)

                    difference = ((date2 - date1));

                    if (lowDate.getTime() - difference > d3.min(vis.data, d => d.date).getTime() - overflow) {
                        if (highDate.getTime() - difference < d3.max(vis.data2, d => d.date).getTime() + overflow) {
                            vis.x.domain([lowDate.getTime() - difference, highDate.getTime() - difference])
                            vis.redraw(true)
                        } else {
                            moveTrigger += 1;
                            if (moveTrigger === 30) {
                                moveTrigger = 0;
                                vis.x.domain([d3.max(vis.data2, d => d.date).getTime() + overflow - zoomWidth * oneYear, d3.max(vis.data2, d => d.date).getTime() + overflow])
                                vis.redraw(true)
                            }
                        }

                    } else {
                        moveTrigger += 1;
                        if (moveTrigger === 30) {
                            moveTrigger = 0;
                            vis.x.domain([d3.min(vis.data, d => d.date).getTime() - overflow, d3.min(vis.data, d => d.date).getTime() - overflow + zoomWidth * oneYear])
                            vis.redraw(true)
                        }
                    }
                }
            }

            function handleEnd() {
                if (zoomed && holding) {
                    if (lowDate.getTime() - difference < d3.min(vis.data, d => d.date).getTime() - overflow) {
                        lowDate = new Date(d3.min(vis.data, d => d.date).getTime() - overflow)
                        highDate = new Date(d3.min(vis.data, d => d.date).getTime() - overflow + zoomWidth * oneYear)
                    } else if (highDate.getTime() - difference > d3.max(vis.data2, d => d.date).getTime() + overflow) {
                        lowDate = new Date(d3.max(vis.data2, d => d.date).getTime() + overflow - zoomWidth * oneYear)
                        highDate = new Date(d3.max(vis.data2, d => d.date).getTime() + overflow)
                    } else {
                        lowDate = new Date(lowDate.getTime() - difference)
                        highDate = new Date(highDate.getTime() - difference)
                    }
                }
                holding = false;
            }

            vis.redraw()
        }

        redraw(pan = false) {
            const vis = this;
            vis.draws += 1;

            // Use the extracted size to set the size of an SVG element.
            vis.svg
                .attr("width", vis.width)
                .attr("height", vis.height);

            // SET SIZE FOR TOUCH LAYER
            vis.touchLayer
                .style("width", vis.width + 'px')
                .style("height", vis.height + 'px')
                .style("pointer-events", "all");

            // SET G
            vis.g.attr('width', vis.gWIDTH)
                .attr('height', vis.gHEIGHT)
                .attr('transform', 'translate(' + vis.MARGIN.left + ',' + vis.MARGIN.top + ')');

            ///////////////////////////////////////////////////////
            const x = vis.x;

            let yMax = 1;
            let yMin = 0;

            const y = d3.scaleLinear()
                .range([vis.gHEIGHT, 0])
                .domain([yMin, yMax]);

            const generateLine = d3.line()
                .x(d => x(d.date))
                .y(d => y(d.val1));
            const tenYearArea = d3.area()
                .x(d => x(d.date))
                .y1(d => y(0))
                .y0(d => y(d.val1))

            const areaFill2 = d3.area()
                .x(d => x(d.date))
                .y1(d => y(0))
                .y0(d => y(d.val1))

            const flatArea = d3.area()
                .x(d => x(d.date))
                .y1(d => y2(yMin))
                .y0(d => y2(yMin))

            // creates a flat starting path to start the animation
            let startLine = vis.data.map(k => {
                return { date: k.date, val1: yMin };
            });
            let startLine2 = vis.data2.map(k => {
                return { date: k.date, val1: yMin };
            });

            ////////////////// LINE BLUE
            if (vis.draws <= 1) {
                vis.firstLine
                    .attr('d', generateLine(startLine))
                    .transition()
                    .duration(1500)
                    .delay(0)
                    .attr('d', generateLine(vis.data))
            } else {
                if (pan) {
                    vis.firstLine
                        .attr('d', generateLine(vis.data))
                } else {
                    vis.firstLine
                        .transition()
                        .duration(1000)
                        .delay(0)
                        .attr('d', generateLine(vis.data))
                }
            }

            // BLUE AREA
            if (vis.draws <= 1) {
                vis.tenYearArea
                    .attr('d', tenYearArea(vis.data))
                    .attr('opacity', 0)
            } else {
                if (pan) {
                    vis.tenYearArea
                        .attr('d', tenYearArea(vis.data))
                        .attr('opacity', filled ? 1 : 0)
                } else {
                    vis.tenYearArea
                        .transition()
                        .duration(1000)
                        .delay(0)
                        .attr('d', tenYearArea(vis.data))
                        .attr('opacity', filled ? 1 : 0)
                }
            }

            ////////////////// LINE BLUE
            if (vis.draws <= 1) {
                vis.secondLine
                    .attr('d', generateLine(startLine2))
                    .transition()
                    .duration(1500)
                    .delay(0)
                    .attr('d', generateLine(vis.data2))
            } else {
                if (pan) {
                    vis.secondLine
                        .attr('d', generateLine(vis.data2))
                } else {
                    vis.secondLine
                        .transition()
                        .duration(1000)
                        .delay(0)
                        .attr('d', generateLine(vis.data2))
                }
            }

            if (vis.draws <= 1) {
                vis.areaFill2
                    .attr('d', areaFill2(vis.data2))
                    .attr('opacity', 0)
            } else {
                if (pan) {
                    vis.areaFill2
                        .attr('d', areaFill2(vis.data2))
                        .attr('opacity', filled ? 1 : 0)
                } else {
                    vis.areaFill2
                        .transition()
                        .duration(1000)
                        .delay(0)
                        .attr('d', areaFill2(vis.data2))
                        .attr('opacity', filled ? 1 : 0)
                }
            }

            const tickVals = []
            for (let i = 1974; i <= 2021; i = i + 3) {
                tickVals.push(new Date('Jan 1 ' + String(i) + ' 16:00:21 GMT-0700 (Pacific Daylight Time)'))
            }
            tickVals.push(new Date('Jan 1 ' + '2021' + ' 16:00:21 GMT-0700 (Pacific Daylight Time)'))
            //////////////////////////////// X AXIS
            const xAxisCall = d3.axisBottom()
                .tickValues(tickVals)
                .tickSizeOuter([0])
                .tickPadding(11)
                .tickFormat(e => {
                    if (e.getMonth() === 0) {
                        return e.getFullYear();
                    }
                });

            if (vis.draws <= 1) {
                vis.xAxis
                    .call(xAxisCall.scale(x))
                    .attr('transform', `translate(0, ${y(yMin)})`)
                    .transition()
                    .duration(2500)
                    .delay(100)
                    .attr('transform', `translate(0, ${y(yMin)})`)
            } else {
                if (pan) {
                    vis.xAxis
                        .attr('transform', `translate(0, ${y(yMin)})`)
                        .call(xAxisCall.scale(x))

                } else {
                    if (zoomed) {
                        vis.xAxis
                            .transition()
                            .delay(0)
                            .duration(1000)
                            .attr('transform', `translate(0, ${y(yMin)})`)
                            .call(xAxisCall.scale(x))
                    } else {
                        vis.xAxis
                            .transition()
                            .delay(0)
                            .duration(1000)
                            .attr('transform', `translate(0, ${y(yMin)})`)
                            .call(xAxisCall.scale(x))
                    }
                }
            }

            //////////////////////////////// Y AXIS
            let xOffset = seismicApp ? 9 : 10;
            const yAxisCall = d3.axisLeft()
                .ticks(5)
                .tickFormat(e => e === 1 ? '1.0' : e === 0 ? '0.0' : e)

            if (vis.draws <= 1) {
                vis.yAxis
                    .attr('transform', `translate(${xOffset - vis.MARGIN.left},0)`)
                    .call(yAxisCall.scale(y).tickSizeOuter([0]))
            } else {
                vis.yAxis
                    .transition()
                    .delay(0)
                    .duration(1000)
                    .attr('transform', `translate(${xOffset - vis.MARGIN.left},0)`)
                    .call(yAxisCall.scale(y).tickSizeOuter([0]))
            }

            ///////////////// APPENDING TEXT
            const minusMove = -10
            const plusMove = seismicApp ? 15 : 20;
            const yMove = seismicApp ? 15 : smallLapTop ? 20 : iPad ? 0 : 0;
            const textXoffset = seismicApp ? 28 : smallLapTop ? 15 : iPad ? 15 : 0;
            const te = ' 11:11:41 GMT-0700 (Pacific Daylight Time)';
            const textY = y(.25)
            const arrowNum = .21;
            const arrowY = y(arrowNum)
            const arrowHeight = .03
            const arrowTop = y(arrowNum + arrowHeight)
            const arrowBot = y(arrowNum - arrowHeight)

            if (vis.draws <= 1) {

                vis.zeroLine
                    .attr('x1', 0)
                    .attr('y1', y(0))
                    .attr('x2', vis.gWIDTH)
                    .attr('y2', y(0))
                    .attr('stroke', 'rgba(0,0,0,0.4)')
                    .attr('stroke-width', 1)
                    .attr('opacity', 0)
                    .transition()
                    .delay(800)
                    .duration(1200)
                    .attr('opacity', 1)

                vis.avgText
                    .style('top', d => textY + 'px')
                    .style('left', x(new Date('Jan 2 1985' + te)) + vis.MARGIN.left + 'px')
                    .html(`
                        <div class='p-30 bold lh-25'>0.49<sup>%</sup></div> 
                        <div class='p-16 demi'>Average</div> 
                        <div class='p-16 demi'>1974-1996</div>
                    `)
                    .style('opacity', 0)
                    .transition()
                    .duration(1000)
                    .delay(500)
                    .style('opacity', 1)

                vis.avgText2
                    .style('top', d => textY + 'px')
                    .style('left', x(new Date('Jun 25 2007' + te)) + vis.MARGIN.left + 'px')
                    .html(`
                        <div class='p-30 bold lh-25'> 0.86<sup>%</sup></div> 
                        <div class='p-16 demi'>Average</div> 
                        <div class='p-16 demi'> 1997-2021</div>
                    `)
                    .style('opacity', 0)
                    .transition()
                    .duration(1000)
                    .delay(500)
                    .style('opacity', 1)

                vis.a1a = vis.arrow1
                    .append('line')
                    .attr('x1', x(new Date('Dec 31 1974' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Jan 25 1984' + te)))
                    .attr('y2', arrowY)

                vis.a1b = vis.arrow1
                    .append('line')
                    .attr('x1', x(new Date('Dec 31 1974' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 1975' + te)))
                    .attr('y2', arrowTop)

                vis.a1c = vis.arrow1
                    .append('line')
                    .attr('x1', x(new Date('Dec 31 1974' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 1975' + te)))
                    .attr('y2', arrowBot)

                vis.a2a = vis.arrow2
                    .append('line')
                    .attr('x1', x(new Date('Dec 25 1988' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Dec 25 1996' + te)))
                    .attr('y2', arrowY)

                vis.a2b = vis.arrow2
                    .append('line')
                    .attr('x1', x(new Date('Dec 25 1996' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Jul 25 1996' + te)))
                    .attr('y2', arrowTop)

                vis.a2c = vis.arrow2
                    .append('line')
                    .attr('x1', x(new Date('Dec 25 1996' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Jul 25 1996' + te)))
                    .attr('y2', arrowBot)

                vis.a3a = vis.arrow3
                    .append('line')
                    .attr('x1', x(new Date('Apr 25 1997' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 2006' + te)))
                    .attr('y2', arrowY)

                vis.a3b = vis.arrow3
                    .append('line')
                    .attr('x1', x(new Date('Apr 25 1997' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Sep 25 1997' + te)))
                    .attr('y2', arrowTop)

                vis.a3c = vis.arrow3
                    .append('line')
                    .attr('x1', x(new Date('Apr 25 1997' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Sep 25 1997' + te)))
                    .attr('y2', arrowBot)

                vis.a4a = vis.arrow4
                    .append('line')
                    .attr('x1', x(new Date('Oct 25 2011' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Nov 25 2020' + te)))
                    .attr('y2', arrowY)

                vis.a4b = vis.arrow4
                    .append('line')
                    .attr('x1', x(new Date('Oct 25 2020' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 2020' + te)))
                    .attr('y2', arrowTop)

                vis.a4c = vis.arrow4
                    .append('line')
                    .attr('x1', x(new Date('Oct 25 2020' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 2020' + te)))
                    .attr('y2', arrowBot)

            } else {
                vis.zeroLine
                    .transition()
                    .duration(1000)
                    .attr('x1', 0)
                    .attr('y1', y(0))
                    .attr('x2', vis.gWIDTH)
                    .attr('y2', y(0))
                    .attr('opacity', 1)

                vis.avgText
                    .transition()
                    .duration(1000)
                    .style('top', d => textY + 'px')
                    .style('left', x(new Date('Jan 2 1985' + te)) + vis.MARGIN.left + 'px')
                    .style('opacity', 1)

                vis.avgText2
                    .transition()
                    .duration(1000)
                    .style('top', d => textY + 'px')
                    .style('left', x(new Date('Jun 25 2007' + te)) + vis.MARGIN.left + 'px')
                    .style('opacity', 1)

                vis.a1a
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Dec 31 1974' + te)))
                    .attr('x2', x(new Date('Jan 25 1984' + te)))
                    .attr('y1', arrowY)
                    .attr('y2', arrowY)
                vis.a1b
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Dec 31 1974' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 1975' + te)))
                    .attr('y2', arrowTop)
                vis.a1c
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Dec 31 1974' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 1975' + te)))
                    .attr('y2', arrowBot)

                vis.a2a
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Dec 25 1988' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Dec 25 1996' + te)))
                    .attr('y2', arrowY)
                vis.a2b
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Dec 25 1996' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Jul 25 1996' + te)))
                    .attr('y2', arrowTop)
                vis.a2c
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Dec 25 1996' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Jul 25 1996' + te)))
                    .attr('y2', arrowBot)

                vis.a3a
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Apr 25 1997' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 2006' + te)))
                    .attr('y2', arrowY)
                vis.a3b
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Apr 25 1997' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Sep 25 1997' + te)))
                    .attr('y2', arrowTop)
                vis.a3c
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Apr 25 1997' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Sep 25 1997' + te)))
                    .attr('y2', arrowBot)

                vis.a4a
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Oct 25 2011' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('Nov 25 2020' + te)))
                    .attr('y2', arrowY)
                vis.a4b
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Oct 25 2020' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 2020' + te)))
                    .attr('y2', arrowTop)
                vis.a4c
                    .attr('opacity', 1)
                    .transition()
                    .duration(1000)
                    .attr('x1', x(new Date('Oct 25 2020' + te)))
                    .attr('y1', arrowY)
                    .attr('x2', x(new Date('May 25 2020' + te)))
                    .attr('y2', arrowBot)
            }

            function fadeUp(el) {
                if (vis.draws === 1) {
                    el.attr('opacity', 0)
                        .transition()
                        .duration(1500)
                        .attr('opacity', 1)
                }
            }

            if (zoomed) {
                document.getElementById('main-page-content').style.overflow = 'hidden'
            } else {
                document.getElementById('main-page-content').style.overflow = 'visible'
            }

        } // end redraw
    } //end class
    //*************************************************************************************************//
    //*************************************************************************************************// 
    const listItems = document.querySelectorAll('.item');
    const conentEls = document.querySelectorAll('.content');
    const quotes = document.querySelectorAll('.p-quote');
    const disclosures = document.querySelectorAll('.disclosure-changer')
    const topRights = document.querySelectorAll('.top-right');
    const subs = document.querySelectorAll('.sub')

    function switchContent(id, element) {
        let activeContent = document.getElementById(id);
        let activeQuote = document.getElementById(`${id}-quote`)

        if (disclosures.length) {
            disclosures.forEach(disc => disc.classList.remove('active'))
            disclosures[Number(id.split('-')[1][1]) - 1].classList.add('active')
        }

        listItems.forEach(el => {
            el.classList.remove('li-active');
        })
        element.classList.add('li-active');

        conentEls.forEach(el => {
            el.classList.remove('active');
        })
        activeContent.classList.add('active');

        quotes.forEach(quote => {
            quote.classList.remove('active');
        })
        if (activeQuote)
            activeQuote.classList.add('active');

        /////////
        const num = Number(id.split('-')[1]) - 1
        topRights.forEach((el, i) => {
            if (i === num) {
                el.classList.add('active')
                subs[i].classList.add('active')
            } else {
                el.classList.remove('active')
                subs[i].classList.remove('active')
            }
        })

        if (num === 1) {
            document.getElementById('main-page-content').style.overflow = 'visible'
        }

        // just hide popups
        document.querySelectorAll('.popup-box').forEach(el => {
            el.style.opacity = 0;
            el.style.pointerEvents = 'none'
            el.setAttribute('clicked', 'false')
        })
    }

    //**************************************************************************//
    //**************************************************************************//
    //**************************************************************************//
    //**************************************************************************//   
    const mountainData = [

        { date: "Mon Apr 30 1990 17:00:00 GMT-0700 (Pacific Daylight Time)", scwf: 9999.9925928, index: 10000.0000000033, },
        { date: "Mon Dec 31 1990 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 9637.9370094, index: 9459.33614691764, },
        { date: "Tue Dec 31 1991 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 12836.3962688, index: 11485.1146344283, },
        { date: "Thu Dec 31 1992 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 13724.9451645, index: 11406.41040265, },
        { date: "Fri Dec 31 1993 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 17886.7726475, index: 14480.4380061642, },
        { date: "Sat Dec 31 1994 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 17415.0115733, index: 14934.0552951886, },
        { date: "Sun Dec 31 1995 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 21415.7979591, index: 16475.3066653899, },
        { date: "Tue Dec 31 1996 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 25701.7804903, index: 17772.6983952161, },
        { date: "Wed Dec 31 1997 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 28805.788086, index: 17508.1841050006, },
        { date: "Thu Dec 31 1998 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 28979.767128, index: 17892.3258941543, },
        { date: "Fri Dec 31 1999 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 46945.7039997, index: 23194.5245180102, },
        { date: "Sun Dec 31 2000 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 39730.0978398, index: 20810.6306423798, },
        { date: "Mon Dec 31 2001 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 32909.2167, index: 19445.2754861716, },
        { date: "Tue Dec 31 2002 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 25642.809759, index: 17167.7739039287, },
        { date: "Wed Dec 31 2003 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 38650.96182, index: 25867.402879283, },
        { date: "Fri Dec 31 2004 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 45617.5311008, index: 32019.4507884417, },
        { date: "Sat Dec 31 2005 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 53276.8499189, index: 36983.7221954755, },
        { date: "Sun Dec 31 2006 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 65652.3450266, index: 44743.0917809008, },
        { date: "Mon Dec 31 2007 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 77083.4599639, index: 47797.2361793042, },
        { date: "Wed Dec 31 2008 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 39110.7249, index: 26917.1643981104, },
        { date: "Thu Dec 31 2009 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 60267.00756, index: 40557.1749859472, },
        { date: "Fri Dec 31 2010 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 75495.7196, index: 51217.0032137199, },
        { date: "Sat Dec 31 2011 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 64845.46035, index: 45430.4972501994, },
        { date: "Mon Dec 31 2012 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 79339.004, index: 53633.7870149725, },
        { date: "Tue Dec 31 2013 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 102873.18474, index: 69006.7601950779, },
        { date: "Wed Dec 31 2014 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 105006.084, index: 70238.1903931264, },
        { date: "Thu Dec 31 2015 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 108028.15852, index: 69509.2781718505, },
        { date: "Sat Dec 31 2016 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 114530.39488, index: 77566.6207741116, },
        { date: "Sun Dec 31 2017 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 145638.30663, index: 96032.647953135, },
        { date: "Mon Dec 31 2018 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 131851.93077, index: 82212.3328418162, },
        { date: "Tue Dec 31 2019 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 172881.78, index: 102480.000754734, },
        { date: "Thu Dec 31 2020 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 238212.03666, index: 119211.908101104, },
        { date: "Fri Dec 31 2021 16:00:00 GMT-0800 (Pacific Standard Time)", scwf: 263354.66564, index: 138400.226464453, },
    ]

    const mountainData2 = [
        { date: "Tue Mar 13 1973 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 10000.0051486, index: 10000, },
        { date: "Mon Dec 31 1973 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 10485.5904629, index: 8238.395014840733, },
        { date: "Tue Dec 31 1974 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 8470.4200633, index: 6140.297471254665, },
        { date: "Wed Dec 31 1975 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 12014.875131, index: 8154.617777597033, },
        { date: "Fri Dec 31 1976 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 13982.7374154, index: 9247.11172288147, },
        { date: "Sat Dec 31 1977 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 14276.1147264, index: 9309.927362764896, },
        { date: "Sun Dec 31 1978 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 17613.21492, index: 10847.80352319429, },
        { date: "Mon Dec 31 1979 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 22389.8018776, index: 12035.97369841532, },
        { date: "Wed Dec 31 1980 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 28158.4930704, index: 15125.838791262531, },
        { date: "Thu Dec 31 1981 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 28807.0417012, index: 14402.006213706387, },
        { date: "Fri Dec 31 1982 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 35075.8375052, index: 15800.207541660657, },
        { date: "Sat Dec 31 1983 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 43425.8807778, index: 19264.891041416195, },
        { date: "Mon Dec 31 1984 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 43566.4311868, index: 20173.849870318474, },
        { date: "Tue Dec 31 1985 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 58615.2280164, index: 28357.31580434897, },
        { date: "Wed Dec 31 1986 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 74483.1405, index: 40236.11202384256, },
        { date: "Thu Dec 31 1987 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 84697.6466484, index: 46739.81312781601, },
        { date: "Sat Dec 31 1988 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 93672.6545068, index: 57953.16169573152, },
        { date: "Sun Dec 31 1989 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 118165.885485, index: 68179.36540059505, },
        { date: "Mon Dec 31 1990 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 115927.7350112, index: 56943.114329622986, },
        { date: "Tue Dec 31 1991 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 142443.1350225, index: 68281.72560002009, },
        { date: "Thu Dec 31 1992 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 148391.2347904, index: 65392.73774723867, },
        { date: "Fri Dec 31 1993 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 188778.1410295, index: 81663.80149220467, },
        { date: "Sat Dec 31 1994 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 194744.8075392, index: 85768.4918847237, },
        { date: "Sun Dec 31 1995 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 234980.31425, index: 102459.27914674558, },
        { date: "Tue Dec 31 1996 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 276110.575968, index: 115983.44407076547, },
        { date: "Wed Dec 31 1997 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 318083.0941618, index: 133375.32854332787, },
        { date: "Thu Dec 31 1998 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 409599.50752, index: 162672.31079961624, },
        { date: "Fri Dec 31 1999 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 574819.8742836, index: 206295.0457978482, },
        { date: "Sun Dec 31 2000 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 534208.2450957, index: 177545.38676397124, },
        { date: "Mon Dec 31 2001 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 490805.3092655, index: 148767.05510468085, },
        { date: "Tue Dec 31 2002 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 412791.0135828, index: 120029.55873405635, },
        { date: "Wed Dec 31 2003 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 565613.8191228, index: 160823.42007929878, },
        { date: "Fri Dec 31 2004 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 647532.54123, index: 185323.33587014486, },
        { date: "Sat Dec 31 2005 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 721913.1701352, index: 205403.60915436313, },
        { date: "Sun Dec 31 2006 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 866979.470166, index: 248444.28080582732, },
        { date: "Mon Dec 31 2007 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 1007922.4437825, index: 277419.69707566005, },
        { date: "Wed Dec 31 2008 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 628026.26397, index: 160362.74154056257, },
        { date: "Thu Dec 31 2009 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 865461.4059, index: 215889.1489020522, },
        { date: "Fri Dec 31 2010 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 978068.67453, index: 243241.626221966, },
        { date: "Sat Dec 31 2011 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 905828.82732, index: 225370.962254816, },
        { date: "Mon Dec 31 2012 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 1096711.2, index: 261721.62631342467, },
        { date: "Tue Dec 31 2013 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 1393983.84682, index: 321398.717894209, },
        { date: "Wed Dec 31 2014 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 1442245.2136, index: 334770.0941563057, },
        { date: "Thu Dec 31 2015 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 1522411.80358, index: 326856.32976116455, },
        { date: "Sat Dec 31 2016 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 1554311.87678, index: 352561.2781336075, },
        { date: "Sun Dec 31 2017 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 2006841.87288, index: 437077.63375321164, },
        { date: "Mon Dec 31 2018 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 1893499.10288, index: 395929.3666608664, },
        { date: "Tue Dec 31 2019 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 2467939.43812, index: 501236.2888716353, },
        { date: "Thu Dec 31 2020 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 3298327.6476, index: 582711.6041602283, },
        { date: "Fri Dec 31 2021 16:00:00 GMT-0800 (Pacific Standard Time)", npf: 3891448.69632, index: 690730.8654777318, },
    ]


    mountainData.forEach(el => {
        el.date = new Date(el.date)
    });

    mountainData2.forEach(el => {
        el.date = new Date(el.date)
    });

    class drawMountain {
        constructor(el, data, keys, yMax, tickVals, title, val, values, boxStuff, footnote) {
            this.draws = 0;
            this.data = data;
            this.el = el;
            this.keys = keys;
            this.yMax = yMax;
            this.tickVals = tickVals;
            this.sideTitle = title
            this.val = val;
            this.values = values;
            this.boxStuff = boxStuff;
            this.footnote = footnote;
            this.initVis();
        }

        initVis() {
            const vis = this;

            // CHART
            vis.chartDiv = document.getElementById(vis.el);
            vis.svg = d3.select(vis.chartDiv).append("svg");

            // APPEND G
            vis.g = vis.svg
                .append('g')
                .attr('class', 'vis-g')

            vis.specialWidth = vis.g.append('text').attr('class', 'p-16').text(`$$,,${vis.yMax}`)
                .attr('opacity', 0).style('pointer-events', 'none')

            // ADD AREA
            vis.areaOne = vis.g.append("path")
                .attr('fill', "#004E8A");
            vis.areaTwo = vis.g.append("path")
                .attr('fill', "#CCC5BE");

            vis.text1 = d3.select(vis.chartDiv).append('div').attr('class', 'p-16 demi')
                .style('line-height', '1.2em')
                .html('Annualized growth<br>since launch').attr('opacity', 1).style('position', 'absolute').style('color', '#004E8A')

            vis.text2 = d3.select(vis.chartDiv).append('div').attr('class', 'p-16 demi')
                .attr('opacity', 1).style('position', 'absolute')

            vis.text3 = d3.select(vis.chartDiv).append('div')
                .attr('class', 'p-16')
                .style('opacity', 1)
                .style('transition', '.4s all ease-in-out')
                .style('color', '#004E8A')
                .style('position', 'absolute')
                .style('padding-left', '3px')
                .style('background-color', '#f8f8f8')
                .html(`
                <div class='p-30 demi'>$${d3.format(',')(Math.round(vis.data[vis.data.length - 1][vis.keys[0]]))}</div>
                    <div>
                        ${vis.sideTitle}
                    </div>
                `)

            vis.text4 = d3.select(vis.chartDiv).append('div').attr('class', 'p-16')
                .style('opacity', 1)
                .style('position', 'absolute')
                .style('transition', '.4s all ease-in-out')
                .style('color', '#00A199')
                .style('position', 'absolute')
                .style('padding-left', '3px')
                .style('background-color', '#f8f8f8')
                .html(`
                    <div class='p-30 demi'>${vis.val}x</div>
                    <div>
                        more wealth in $ terms
                    </div>
                `)

            vis.text5 = d3.select(vis.chartDiv).append('div').attr('class', 'p-16 ')
                .style('opacity', 1)
                .style('position', 'absolute')
                .style('transition', '.4s all ease-in-out')
                .style('color', '#6F6F6F')
                .style('position', 'absolute')
                .style('padding-left', '3px')
                .style('background-color', '#f8f8f8')
                .html(`
                <div class='p-30 demi'>$${d3.format(',')(Math.round(vis.data[vis.data.length - 1][vis.keys[1]]))}</div>
                    <div>
                        Historical benchmark<sup>${vis.footnote}</sup>
                    </div>
                `)

            vis.lineOne = vis.g.append('line').attr('class', 'dash-line')
            vis.lineTwo = vis.g.append('line').attr('class', 'dash-line')
            vis.lineThree = vis.g.append('line').attr('class', 'dash-line')
            vis.lineFour = vis.g.append('line').attr('class', 'dash-line')
            vis.greenLine1 = vis.g.append('line').attr('class', 'green-line')
            vis.greenLine2 = vis.g.append('line').attr('class', 'green-line')

            vis.box1 = vis.g.append('rect')
            vis.box2 = vis.g.append('rect')
            vis.boxVal1 = d3.select(vis.chartDiv).append('div')
                .attr('class', 'p-20 demi p-white').style('position', 'absolute')
            vis.boxVal2 = d3.select(vis.chartDiv).append('div')
                .attr('class', 'p-20 demi p-white').style('position', 'absolute')

            // APPEND X AXIS 
            vis.xAxis = vis.g
                .append('g')
                .attr('class', 'axis x-axis p-16 myx')
                .style('opacity', 0)

            // APPEND Y AXIS 
            vis.yAxis = vis.g
                .append('g')
                .style('text-anchor', 'end')
                .attr('class', 'axis y-axis p-16')
                .style('opacity', 0)

            // DEFINE MARKER
            vis.defs = vis.svg.append("defs")

            vis.defs.append("marker")
                .attr("id", "arrow")
                .attr("viewBox", "0 -5 10 10")
                .attr("refX", 5)
                .attr("refY", 0)
                .attr("markerWidth", 6)
                .attr("markerHeight", 6)
                .attr('fill', '#00A199')
                .attr("orient", "auto")
                .append("path")
                .attr("d", "M0,-5L10,0L0,5")
                .attr("class", "arrowHead");

            vis.defs.append("marker")
                .attr("id", "arrow-reverse")
                .attr("viewBox", "0 -5 10 10")
                .attr("refX", 5)
                .attr("refY", 0)
                .attr("markerWidth", 6)
                .attr("markerHeight", 6)
                .attr('fill', '#00A199')
                .attr("orient", "auto-start-reverse")
                .append("path")
                .attr("d", "M0,-5L10,0L0,5")
                .attr("class", "arrowHead");

            setTimeout(() => {
                vis.redraw()
            }, 500);
        }

        redraw() {

            const vis = this;
            vis.draws += 1;

            // Extract the width and height that was computed by CSS.
            vis.width = vis.chartDiv.clientWidth;
            vis.height = vis.chartDiv.clientHeight;
            vis.bottom = vis.height * .13;
            vis.top = 8;
            vis.MARGIN = { top: vis.top, right: vis.width * .17, bottom: vis.bottom, left: vis.width * .09 };
            vis.gWIDTH = vis.width - (vis.MARGIN.left + vis.MARGIN.right);
            vis.gHEIGHT = vis.height - (vis.MARGIN.top + vis.MARGIN.bottom);

            // Use the extracted size to set the size of an SVG element.
            vis.svg
                .attr("width", vis.width)
                .attr("height", vis.height);

            // SET G
            vis.g.attr('width', vis.gWIDTH)
                .attr('height', vis.gHEIGHT)
                .attr('transform', 'translate(' + vis.MARGIN.left + ',' + vis.MARGIN.top + ')');

            ///////////////////////////////////////////////////////
            // X SCALE
            vis.x = d3.scaleTime()
                .domain(d3.extent(vis.data, d => d.date))
                .range([0, vis.gWIDTH])
            const x = vis.x;

            let yMax = vis.yMax;
            let yMin = 0;

            const y = d3.scaleLinear()
                .range([vis.gHEIGHT, 0])
                .domain([yMin, yMax]);
            ///////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////

            const areaOne = d3.area()
                .x(d => x(d.date))
                .y1(d => y(yMin))
                .y0(d => y(d[vis.keys[0]]))

            const areaTwo = d3.area()
                .x(d => x(d.date))
                .y1(d => y(yMin))
                .y0(d => y(d[vis.keys[1]]))

            ////////////////// LINE BLUE
            if (vis.draws <= 1) {
                vis.areaOne
                    .attr('d', areaOne(vis.data))
                    .attr('opacity', 1)

                vis.areaTwo
                    .attr('d', areaTwo(vis.data))
                    .attr('opacity', 1)
            } else {
                vis.areaOne
                    .transition()
                    .duration(500)
                    .delay(0)
                    .attr('d', areaOne(vis.data))
                    .attr('opacity', 1)

                vis.areaTwo
                    .transition()
                    .duration(500)
                    .delay(0)
                    .attr('d', areaTwo(vis.data))
                    .attr('opacity', 1)
            }

            //////////////////////////////// X AXIS ////////////////////////////////
            //////////////////////////////// X AXIS ////////////////////////////////
            //////////////////////////////// X AXIS ////////////////////////////////

            const tickValsX = []
            const endOfTime = ' 16:00:21 GMT-0700 (Pacific Daylight Time)';

            vis.tickVals.forEach(year => tickValsX.push(new Date(`1/1/${year}` + endOfTime)))

            const xAxisCall = d3.axisBottom()
                .tickValues(tickValsX)
                .tickPadding(4)
                .tickSizeOuter([0])
                .tickFormat(e => String(e.getFullYear()));

            if (vis.draws <= 1) {
                vis.xAxis
                    .call(xAxisCall.scale(x))
                    .attr('transform', `translate(0, ${y(yMin)})`)
                    .transition()
                    .delay(0)
                    .duration(1500)
                    .style('opacity', 1)
                    .attr('transform', `translate(0, ${y(yMin)})`)
            } else {
                vis.xAxis
                    .transition()
                    .duration(500)
                    .style('opacity', 1)
                    .attr('transform', `translate(0, ${y(yMin)})`)
                    .call(xAxisCall.scale(x))
            }

            ////////////////////////////////
            //////////////////////////////// Y AXIS ////////////////////////////////
            ////////////////////////////////

            // const tickVals = [0, 40000, 80000, 120000, 160000, 200000, 240000, 280000]
            const xOffset = vis.specialWidth.node().getBBox().width - vis.MARGIN.left;
            const yAxisCall = d3.axisLeft()
                .ticks(4)
                // .tickPadding(vis.specialWidth.node().getBBox().width)
                .tickFormat(e => e === 300000 || e === 4000000 ? '$' + d3.format(',')(e.toFixed(0)) : d3.format(',')(e))

            if (vis.draws <= 1) {
                vis.yAxis
                    .attr('transform', `translate(${xOffset},0)`)
                    .call(yAxisCall.scale(y).tickSizeOuter([0]))
                    .transition()
                    .delay(0)
                    .duration(1500)
                    .style('opacity', 1)
            } else {
                vis.yAxis
                    .transition()
                    .delay(0)
                    .duration(500)
                    .style('opacity', 1)
                    .attr('transform', `translate(${xOffset},0)`)
                    .call(yAxisCall.scale(y).tickSizeOuter([0]))
            }

            ///////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////
            ///////////////////////////////////////////////////////

            const boxWidth = x(new Date(vis.boxStuff[0][0])) - x(new Date(vis.boxStuff[0][1]))
            const leftBoxPosition = x(new Date(vis.boxStuff[1]))
            const greyboxPosition = x(new Date(vis.boxStuff[2]))

            const box1xPos = leftBoxPosition
            const box2xPos = greyboxPosition
            const halfwayBetweenBoxes = (box2xPos - (box1xPos + boxWidth)) / 2;
            const leftArrowXpos = box1xPos + boxWidth + halfwayBetweenBoxes + 'px';
            const leftLinesWidth = halfwayBetweenBoxes * 1.3

            const pushUp = window.innerWidth < 1700 ? -10 : 0;
            const pullLeft = window.innerWidth < 1700 ? -7 : 0;
            const masterUpDown = vis.gHEIGHT * .1;

            vis.text1
                .style('text-align', 'center')
                // .style('margin-top', vis.value === 'gross' ? -vis.text1.node().clientHeight / 2 : 0)
                .style('transition', '.3s margin-top ease-in-out')
                .style('left', box1xPos + vis.MARGIN.left + boxWidth / 2 + 'px')
                .style('margin-left', -vis.text1.node().clientWidth / 2 + 'px')
                .style('top', vis.gHEIGHT * .21 + vis.MARGIN.top + pushUp + masterUpDown + 'px')
                .transition()
                .duration(vis.draws === 1 ? 1000 : 0)
                .delay(vis.draws === 1 ? 300 : 0)
                .style('opacity', 1)

            const valueOfWhatever = vis.values[1];

            vis.text2
                .style('color', '#00A199')
                .style('text-align', 'center')
                .style('line-height', '25px')
                .html(`
                <div class='p-30' style='line-height: 1.08'>${valueOfWhatever}<sup>%</sup> pts</div>
                <div class='p-16 demi' style='line-height: 1.2em;'>
                    higher than the <br> market return
                        </div>
                `)
                .style('left', box2xPos + vis.MARGIN.left + boxWidth / 2 + 'px')
                .style('margin-left', -vis.text2.node().clientWidth / 2 + 'px')
                .style('top', vis.gHEIGHT * .242 + vis.MARGIN.top + pushUp + masterUpDown + 'px')
                .transition()
                .duration(vis.draws === 1 ? 1000 : 0)
                .delay(vis.draws === 1 ? 300 : 0)
                .style('opacity', 1)

            vis.lineOne
                .attr('x1', box1xPos + boxWidth)
                .attr('x2', box1xPos + boxWidth + leftLinesWidth)
                .attr('y1', vis.gHEIGHT * .3 + masterUpDown)
                .attr('y2', vis.gHEIGHT * .3 + masterUpDown)

            vis.lineTwo
                .attr('x1', box2xPos - leftLinesWidth)
                .attr('x2', box2xPos)
                .attr('y1', vis.gHEIGHT * .4 + masterUpDown)
                .attr('y2', vis.gHEIGHT * .4 + masterUpDown)

            const topVal = vis.data[vis.data.length - 1][vis.keys[0]];
            const lastXpos = x(new Date(vis.data[vis.data.length - 1].date));
            const lineWidth = vis.gWIDTH + vis.MARGIN.right * .3;
            const lowerVal = vis.data[vis.data.length - 1][vis.keys[1]];
            if (vis.draws === 1) {
                vis.lineThree
                    .attr('x1', lastXpos)
                    .attr('x2', lineWidth)
                    .attr('y1', y(topVal))
                    .attr('y2', y(topVal))

                vis.lineFour
                    .attr('x1', lastXpos)
                    .attr('x2', lineWidth)
                    .attr('y1', y(lowerVal))
                    .attr('y2', y(lowerVal))
            } else {
                vis.lineThree
                    .transition()
                    .duration(500)
                    .attr('x1', lastXpos)
                    .attr('x2', lineWidth)
                    .attr('y1', y(topVal))
                    .attr('y2', y(topVal))

                vis.lineFour
                    .transition()
                    .duration(500)
                    .attr('x1', lastXpos)
                    .attr('x2', lineWidth)
                    .attr('y1', y(lowerVal))
                    .attr('y2', y(lowerVal))
            }

            vis.box1
                .attr('width', boxWidth)
                .attr('height', vis.gHEIGHT * .25)
                .attr('fill', '#004E8A')
                .attr('y', vis.gHEIGHT * .3 + masterUpDown)
                .attr('x', leftBoxPosition)

            vis.box2
                .attr('width', boxWidth)
                .attr('height', vis.gHEIGHT * .15)
                .attr('fill', '#CCC5BE')
                .attr('y', vis.gHEIGHT * .4 + masterUpDown)
                .attr('x', greyboxPosition)

            const pushRight = 5
            vis.boxVal1
                .style('text-align', 'center')
                .style('left', leftBoxPosition + vis.MARGIN.left + pushRight + 'px')
                .style('top', vis.gHEIGHT * .33 + vis.MARGIN.top + masterUpDown + 'px')
                .style('width', boxWidth + 'px')
                .html(`${vis.values[0]}<sup>%</sup>`)
                .style('margin-left', -2)

            vis.boxVal2
                .style('text-align', 'center')
                .style('left', greyboxPosition + vis.MARGIN.left + pushRight + 'px')
                .style('top', vis.gHEIGHT * .43 + vis.MARGIN.top + masterUpDown + 'px')
                .style('width', boxWidth + 'px')
                .html(`${vis.values[2]}<sup>%</sup>`)

            const arrowTop = y(topVal - (topVal * .015));
            const arrowBottom = y(lowerVal + (topVal * .015));
            const line2x = vis.gWIDTH + vis.MARGIN.right * .05;
            if (vis.draws === 1) {
                vis.greenLine1
                    .attr('marker-end', "url('#arrow')")
                    .attr('marker-start', "url('#arrow-reverse')")
                    .attr('x1', leftArrowXpos)
                    .attr('x2', leftArrowXpos)
                    .attr('y1', masterUpDown + vis.gHEIGHT * .31)
                    .attr('y2', masterUpDown + vis.gHEIGHT * .39)

                vis.greenLine2
                    .attr('marker-end', "url('#arrow')")
                    .attr('marker-start', "url('#arrow-reverse')")
                    .attr('x1', line2x)
                    .attr('x2', line2x)
                    .attr('y1', arrowTop)
                    .attr('y2', arrowBottom)
            } else {
                vis.greenLine1
                    .transition()
                    .duration(500)
                    .attr('x1', leftArrowXpos)
                    .attr('x2', leftArrowXpos)
                    .attr('y1', vis.gHEIGHT * .31 + masterUpDown)
                    .attr('y2', vis.gHEIGHT * .39 + masterUpDown)

                vis.greenLine2
                    .transition()
                    .duration(500)
                    .attr('x1', line2x)
                    .attr('x2', line2x)
                    .attr('y1', arrowTop)
                    .attr('y2', arrowBottom)
            }

            // far right texts
            const leftPos = vis.gWIDTH + vis.MARGIN.right * .7

            vis.text3
                .style('opacity', 1)
                .style('left', leftPos)
                .style('top', y(topVal))
                .style('margin-top', -vis.text3.node().clientHeight / 5)


            vis.text4
                .style('opacity', 1)
                .style('top', y((topVal + lowerVal) / 2))
                .style('left', leftPos)

            vis.text5
                .style('top', y(lowerVal))
                .style('margin-top', -vis.text5.node().clientHeight / 5)
                .style('left', leftPos)

        } // end redraw
    } //end class


    //**************************************************************************//
    //**************************************************************************//
    //**************************************************************************//
    //**************************************************************************//
    // TOGGLE BUTTONS
    function toggleLine() {
        document.querySelector('#toggle-slider').style.left = '0%';
        document.getElementById('line').style.fill = 'rgba(0,41,75, .9)'
        document.getElementById('mountain').style.fill = 'rgba(0,41,75,0.3)'
        document.getElementById('mountain-2').style.fill = 'rgba(0, 95, 158, 0.3)'
        filled = false;
        redraw();
    }

    function toggleFill() {
        document.querySelector('#toggle-slider').style.left = '50%';
        document.getElementById('line').style.fill = 'rgba(0,41,75, .5)'
        document.getElementById('mountain').style.fill = 'rgba(0,41,75,0.7)'
        document.getElementById('mountain-2').style.fill = 'rgba(0, 95, 158, 0.7)'

        filled = true;
        redraw();
    }

    function zoomIn() {
        if (!zoomed) {
            zoomed = true;
            lines.wrangle(oldLowDate, oldHighDate);
            document.querySelector('#chart').style.cursor = `url('./engine/imgs/scroll.svg') 5 5 , ew-resize`;
        }
    }

    function zoomOut() {
        if (zoomed) {
            zoomed = false;

            oldLowDate = lowDate;
            oldHighDate = highDate;

            lines.wrangle(); // EXTENT OF THE DATA ON THE X-AXIS (with default args)
            document.querySelector('#chart').style.cursor = `url('./engine/imgs/cursor.svg') 5 5, crosshair`
        }
    }


    ////////////////////////////////////
    ///////////////////////////////
    //////////////////////////
    /////////////////////
    ///////////////
    ////////////
    ///////
    ////
    function showOverlay(num) {
        // if (num === 0)
        document.getElementById('info-window').classList.add('active')
    }

    function closeBox() {
        document.querySelectorAll('.info-window').forEach(el => el.classList.remove('active'))
    }

</script>

<script>
    const keys = ['em', 'china', 'dev', 'us']

    // COLOR SCALE
    const COLOR1 = '#008e77'; //emerging... dark green
    const COLOR2 = '#00aea9'; // china... light green
    const COLOR3 = '#7ad0e2'; // international... light blue
    const COLOR4 = '#005f9a'; // US... dark blue

    // ADD BOTTOM LABELS
    const botInfoLine1 = [
        // ['2.1%', '#009CDC'],
        ['16.0', 'black'],
        ['32.4', '#009CDC'],
        ['13.7', '#009CDC'],
        ['1.4', '#009CDC'],
        ['12.0', '#009CDC'],
        ['21.8', 'black'],
        ['-4.4', '#009CDC'],
        ['31.5', '#009CDC'],
        ['18.4', '#009CDC'],
        ['28.7', '#009CDC'],

    ];

    const botInfoLine2 = [
        // ['-13.7%', 'black'],
        ['16.8', '#009CDC'],
        ['15.3', 'black'],
        ['-3.9', 'black'],
        ['-5.7', 'black'],
        ['4.5', 'black'],
        ['27.2', '#009CDC'],
        ['-14.2', 'black'],
        ['21.5', 'black'],
        ['10.7', 'black'],
        ['7.8', 'black'],

    ];

    class drawStackedBars {
        constructor() {
            this.draws = 0;
            this.data = [
                // { year: '2011', em: 12, china: 2, dev: 6, us: 30 },
                { year: '2012', em: 20, china: 7, dev: 15, us: 8 },
                { year: '2013', em: 3, china: 3, dev: 20, us: 24 },
                { year: '2014', em: 24, china: 4, dev: 8, us: 14 },
                { year: '2015', em: 12, china: 6, dev: 27, us: 5 },
                { year: '2016', em: 33, china: 0, dev: 11, us: 6 },
                { year: '2017', em: 22, china: 19, dev: 6, us: 3 },
                { year: '2018', em: 15, china: 2, dev: 11, us: 22 },
                { year: '2019', em: 12, china: 21, dev: 12, us: 5 },
                { year: '2020', em: 6, china: 32, dev: 4, us: 8 },
                { year: '2021', em: 12, china: 25, dev: 4, us: 9 }

            ];
            this.el = 'chart-1'
            this.initVis();
        }
        initVis() {
            const vis = this;

            // COLOR SCALE
            vis.z = d3.scaleOrdinal()
                .range([COLOR1, COLOR2, COLOR3, COLOR4])
                .domain(keys);

            // CHART
            vis.chartDiv = document.getElementById(vis.el);
            vis.svg = d3.select(vis.chartDiv).append("svg").attr('class', 'svg-class')

            // APPEND G
            vis.g = vis.svg
                .append('g')
                .attr('class', 'g-class')

            // LINE
            vis.line = vis.svg.append("line");

            // BARS
            vis.bars = vis.g.append('g').attr('class', 'bars');

            // BOTTOM TEXT
            vis.botText = vis.svg.append('text')
            vis.botText1 = vis.svg.append('text')
            vis.botText2 = vis.svg.append('text')

            // HOVER BOXES (ALL 40 OF THEM... glup, wink)

            //// 2012
            vis.box4 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2012em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            275<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                UNITED SPIRITS
                            </div>
                            <div class='fund-details'>
                                India  / Consumer Staples  /  Beverages 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            100<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                RUENTEX DEVELOPMENT CO
                            </div>
                            <div class='fund-details'>
                                Taiwan / Financials /  Real Estate Management & Development  
                            </div>
                        </div>
                    </div>
                  
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            212<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TURK HAVA YOLLARI
                            </div>
                            <div class='fund-details'>
                                Turkey /  Industrials  /   Airlines 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            98<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KOREA GAS CORP
                            </div>
                            <div class='fund-details'>
                                Korea	 / Utilities / Gas Utilities  
                            </div>
                        </div>
                    </div>
                  
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            137<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KGHM POLSKA MIEDZ
                            </div>
                            <div class='fund-details'>
                                Poland  /  Materials  /   Metals & Mining
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                        96<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ALFA
                            </div>
                            <div class='fund-details'>
                                Mexico / Industrials / Industrial Conglomerates  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            114<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ARCELIK
                            </div>
                            <div class='fund-details'>
                                Turkey / Consumer Discretionary / Household Durables 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                        96<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LOTOS GROUP
                            </div>
                            <div class='fund-details'>
                                Poland / Energy / Oil, Gas & Consumable Fuels  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            114<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GRUPO FIN BANORTE O
                            </div>
                            <div class='fund-details'>
                                Mexico / Financials / Banks 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                        96<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CEMENTOS ARGOS (NEW)
                            </div>
                            <div class='fund-details'>
                                Colombia / Materials / Construction Materials  
                            </div>
                        </div>
                    </div>
                 

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YAPI VE KREDI BANKASI
                            </div>
                            <div class='fund-details'>
                                Turkey / Financials /  Banks  
                            </div>
                        </div>
                    </div>  
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            95<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SABANCI HLDG (HACI OMER)
                            </div>
                            <div class='fund-details'>
                                Turkey / Financials / Diversified Financial Services 
                            </div>
                        </div>
                    </div>		


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            104<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                RELIANCE CAPITAL
                            </div>
                            <div class='fund-details'>
                                India	/ Financials  / Diversified Financial Services  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            92<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                UNIVERSAL ROBINA CORP
                            </div>
                            <div class='fund-details'>
                                Philippines	 / Consumer Staples / Food Products 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            103<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TURKIYE IS BANKASI C
                            </div>
                            <div class='fund-details'>
                                Turkey / Financials / Banks  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            91<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TURKIYE HALK BANKASI
                            </div>
                            <div class='fund-details'>
                                Turkey / Financials / Banks 
                            </div>
                        </div>
                    </div>
                   

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GRUPO CARSO
                            </div>
                            <div class='fund-details'>
                                Mexico / Industrials  / Industrial Conglomerates  
                            </div>
                        </div>
                    </div> 
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            91<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                    MAGNIT GDR
                            </div>
                            <div class='fund-details'>
                                Russia / Consumer Staples / Food & Staples Retailing 
                            </div>
                        </div>
                    </div>
                   

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            100<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TURKIYE VAKIFLAR BANKASI
                            </div>
                            <div class='fund-details'>
                                Turkey / Financials / Banks  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            91<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CEMEX CPO
                            </div>
                            <div class='fund-details'>
                                Mexico / Materials / Construction Materials 
                            </div>
                        </div>
                    </div>

                </div>
            `)

            vis.box5 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2012ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        129<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            YUEXIU PROPERTY CO
                        </div>
                        <div class='fund-details'>
                            China / Financials / Real Estate Management & Development 
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        125<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SHIMAO PROPERTY HLDGS
                        </div>
                        <div class='fund-details'>
                            China / Financials / Real Estate Management & Development 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        124<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            GUANGZHOU R&F PROP H
                        </div>
                        <div class='fund-details'>
                            China / Financials / Real Estate Management & Development 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        121<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            GREAT WALL MOTOR H
                        </div>
                        <div class='fund-details'>
                            China / Consumer Discretionary / Automobiles 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        119<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            GEELY AUTOMOBILE HLDGS
                        </div>
                        <div class='fund-details'>
                            China / Consumer Discretionary / Automobiles 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        110<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            CHINA RAILWAY CONST H
                        </div>
                        <div class='fund-details'>
                            China / Industrials / Construction & Engineering 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        100<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LEE & MAN PAPER MFG(CN)
                        </div>
                        <div class='fund-details'>
                            China / Materials / Paper & Forest Products 
                        </div>
                    </div>
                </div>
            `)

            vis.box6 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2012dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            173<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KBC GROUPE
                            </div>
                            <div class='fund-details'>
                                Belgium / Financials / Banks 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            99<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NEW WORLD DEVELOPMENT
                            </div>
                            <div class='fund-details'>
                                Hong Kong	 / Financials / Real Estate Management & Development 
                            </div>
                        </div>
                    </div>
    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            114<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GRIFOLS
                            </div>
                            <div class='fund-details'>
                                Spain	 / Health Care / Biotechnology 
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            96<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GILDAN ACTIVEWEAR
                            </div>
                            <div class='fund-details'>
                                Canada / Consumer Discretionary / Textiles, Apparel & Luxury Goods 
                            </div>
                        </div>
                    </div>
    
    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            114<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GALAXY ENTERTAINMENT GRP
                            </div>
                            <div class='fund-details'>
                                Hong Kong / Consumer Discretionary / Hotels, Restaurants & Leisure 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            95<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOKYU LAND CORP
                            </div>
                            <div class='fund-details'>
                                Japan / Financials / Real Estate Management & Development 
                            </div>
                        </div>
                    </div>
    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            109<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                FUJI HEAVY INDUSTRIES
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Automobiles 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            94<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NOMURA HOLDINGS
                            </div>
                            <div class='fund-details'>
                                Japan / Financials / Capital Markets 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            109<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WHEELOCK AND CO
                            </div>
                            <div class='fund-details'>
                                Hong Kong	 / Financials / Real Estate Management & Development 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            93<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LLOYDS BANKING GROUP
                            </div>
                            <div class='fund-details'>
                                United Kingdom / Financials / Banks 
                            </div>
                        </div>
                    </div>
    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KEPPEL LAND
                            </div>
                            <div class='fund-details'>
                                Singapore / Financials / Real Estate Management & Development 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            92<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EIFFAGE
                            </div>
                            <div class='fund-details'>
                                France / Industrials / Construction & Engineering 
                            </div>
                        </div>
                    </div>
    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            101<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AKER SOLUTIONS
                            </div>
                            <div class='fund-details'>
                                Norway / Energy / Energy Equipment & Services 
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            92<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHINSEI BANK
                            </div>
                            <div class='fund-details'>
                                Japan / Financials / Banks 
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            99<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AGEAS
                            </div>
                            <div class='fund-details'>
                                Belgium / Financials / Insurance 
                            </div>
                        </div>
                        </div>            
                    </div>
                `)

            vis.box7 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2012us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class=''>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            142<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SPRINT NEXTEL SERIES 1
                            </div>
                            <div class='fund-details'>
                                United States / Communication Services	 / Wireless Telecommunication Services 								
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            120<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WHIRLPOOL CORP
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Household Durables 								
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            116<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HOLLYFRONTIER
                            </div>
                            <div class='fund-details'>
                                United States / Energy / Oil, Gas & Consumable Fuels 								
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            116<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EXPEDIA
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Internet & Direct Marketing Retail 								
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            110<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BANK OF AMERICA CORP
                            </div>
                            <div class='fund-details'>
                                United States / Financials / Diversified Financial Services 								
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            96<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SEAGATE TECHNOLOGY
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Technology Hardware, Storage & Peripherals 								
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            94<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MARATHON PETROLEUM
                            </div>
                            <div class='fund-details'>
                                United States / Energy / Oil, Gas & Consumable Fuels 								
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            93<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LYONDELLBASELL INDS A
                            </div>
                            <div class='fund-details'>
                                United States / Materials / Chemicals 								
                            </div>
                        </div>
                    </div>

                </div>
            `)

            //// 2013
            vis.box8 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2013em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class=''>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            149<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NHN CORP
                            </div>
                            <div class='fund-details'>
                                Korea	 / Information Technology / Internet Software & Services 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            140<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                INVENTEC CO
                            </div>
                            <div class='fund-details'>
                                Taiwan / Information Technology / Technology Hardware, Storage & Peripherals 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            104<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                OPAP
                            </div>
                            <div class='fund-details'>
                                Greece / Consumer Discretionary / Hotels, Restaurants & Leisure 
                            </div>
                        </div>
                    </div>

                </div>
            `)

            vis.box9 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2013ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        113<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SIHUAN PHARMA HLDGS
                        </div>
                        <div class='fund-details'>
                            China / Health Care / Pharmaceuticals  
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        100<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            HAIER ELCTRNCS GRP(CN)
                        </div>
                        <div class='fund-details'>
                            China / Consumer Discretionary / Household Durables  
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        99<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            TENCENT HOLDINGS LIM(CN)
                        </div>
                        <div class='fund-details'>
                            China / Information Technology / Internet Software & Services  
                        </div>
                    </div>
                </div>
            `)

            vis.box10 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2013dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            157<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MAZDA MOTOR CORP
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Automobiles  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            111<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PROSIEBEN SAT1 MEDIA VZ
                            </div>
                            <div class='fund-details'>
                                Germany / Consumer Discretionary / Media  
                            </div>
                        </div>
                    </div>

                   

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            152<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MGM CHINA HOLDINGS
                            </div>
                            <div class='fund-details'>
                                Hong Kong / Consumer Discretionary / Hotels, Restaurants & Leisure  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            109<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HARGREAVES LANSDOWN
                            </div>
                            <div class='fund-details'>
                                United Kingdom	/ Financials / Capital Markets  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            143<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SOFTBANK CORP
                            </div>
                            <div class='fund-details'>
                                Japan / Communication Services / Wireless Telecommunication Services  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            108<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NOKIA CORP
                            </div>
                            <div class='fund-details'>
                                Finland / Information Technology / Communications Equipment  
                            </div>
                        </div>
                    </div>
                    

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            134<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                FUJI HEAVY INDUSTRIES
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Automobiles  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            106<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOKYO ELECTRIC POWER CO
                            </div>
                            <div class='fund-details'>
                                Japan / Utilities / Electric Utilities  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            131<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KINNEVIK INVESTMENT B
                            </div>
                            <div class='fund-details'>
                                Sweden / Financials / Diversified Financial Services  
                            </div>
                        </div>
                    </div>

                    

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            104<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EDF
                            </div>
                            <div class='fund-details'>
                                France / Utilities / Electric Utilities  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            129<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GALAXY ENTERTAINMENT GRP
                            </div>
                            <div class='fund-details'>
                                Hong Kong	 / Consumer Discretionary / Hotels, Restaurants & Leisure  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            101<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                UNITED INTERNET
                            </div>
                            <div class='fund-details'>
                                Germany / Information Technology / Internet Software & Services  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            127<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                INT’L AIRLINES GROUP
                            </div>
                            <div class='fund-details'>
                                Spain	 / Industrials / Airlines  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            100<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EADS
                            </div>
                            <div class='fund-details'>
                                France / Industrials / Aerospace & Defense  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            121<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HULIC CO (NEW)
                            </div>
                            <div class='fund-details'>
                                Japan / Financials / Real Estate Management & Development  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            98<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ITV
                            </div>
                            <div class='fund-details'>
                                United Kingdom	/ Consumer Discretionary / Media  
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            116<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOTO
                            </div>
                            <div class='fund-details'>
                                Japan / Industrials / Building Products  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            97<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                VALEANT PHARMACEUTICALS
                            </div>
                            <div class='fund-details'>
                                Canada / Health Care / Pharmaceuticals  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            114<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NATIXIS
                            </div>
                            <div class='fund-details'>
                                France / Financials / Banks  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            95<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                FUJI ELECTRIC CO
                            </div>
                            <div class='fund-details'>
                                Japan / Industrials / Electrical Equipment  
                            </div>
                        </div>
                    </div>
                </div>
            `)

            vis.box11 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2013us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            297<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NETFLIX
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Internet & Direct Marketing Retail 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            103<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YAHOO
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Internet Software & Services 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            244<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BEST BUY CO
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Specialty Retail							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GAMESTOP CORP A
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Specialty Retail 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            243<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MICRON TECHNOLOGY
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Semiconductors & Semiconductor Equipment  							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LINCOLN NATIONAL CORP
                            </div>
                            <div class='fund-details'>
                                United States / Financials / Insurance 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            152<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                METROPCS COMMUNICATIONS
                            </div>
                            <div class='fund-details'>
                                United States / Communication Services / Wireless Telecommunication Services							
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MARVELL TECHNOLOGY GROUP
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Semiconductors & Semiconductor Equipment 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            145<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HERBALIFE
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Staples / Personal Products 							
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MGM MIRAGE
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Hotels, Restaurants & Leisure 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            133<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                DELTA AIR LINES
                            </div>
                            <div class='fund-details'>
                                United States / Industrials / Airlines  							
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            101<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HEWLETT-PACKARD CO
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Technology Hardware, Storage & Peripherals 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            132<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PITNEY BOWES
                            </div>
                            <div class='fund-details'>
                                United States / Industrials / Commercial Services & Supplies 							
                            </div>
                        </div>
                    </div>
                    
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            101<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WESTERN DIGITAL
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Technology Hardware, Storage & Peripherals 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            115<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CELGENE CORP
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Biotechnology 							
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            99<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ILLUMINA
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Life Sciences Tools & Services							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            110<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BOSTON SCIENTIFIC CORP
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Health Care Equipment & Supplies 							
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            99<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CONSTELLATION BRANDS A
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Staples / Beverages 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                FACEBOOK A
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Internet Software & Services 							
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            98<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SEALED AIR CORP
                            </div>
                            <div class='fund-details'>
                                United States / Materials / Containers & Packaging 							
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MANPOWERGROUP
                            </div>
                            <div class='fund-details'>
                                United States / Industrials / Professional Services 							
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            95<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WATSON PHARMACEUTICALS
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Pharmaceuticals 							
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GILEAD SCIENCES
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Biotechnology 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            95<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ASSURANT
                            </div>
                            <div class='fund-details'>
                                United States / Financials / Insurance 							
                            </div>
                        </div>
                    </div>
                   
                </div>
            `)

            //// 2014
            vis.box12 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2014em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            115<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AMOREPACIFIC CORP (NEW)
                            </div>
                            <div class='fund-details'>
                                Korea	 / Consumer Staples / Personal Products 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            76<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                STATE BANK OF INDIA
                            </div>
                            <div class='fund-details'>
                                India / Financials / Banks 
                            </div>
                        </div>
                    </div>


                   
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            108<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AMOREG
                            </div>
                            <div class='fund-details'>
                                Korea	 / Consumer Staples / Personal Products 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            74<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HYUNDAI HYSCO
                            </div>
                            <div class='fund-details'>
                                Korea	 / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>

             

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ADANI PORTS AND SEZ
                            </div>
                            <div class='fund-details'>
                                India / Industrials / Transportation Infrastructure 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            71<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EREGLI DEMIR CELIK FAB.
                            </div>
                            <div class='fund-details'>
                                Turkey / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>
           

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            98<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LIC HOUSING FINANCE
                            </div>
                            <div class='fund-details'>
                                India / Financials / Thrifts & Mortgage Finance 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            71<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                JG SUMMIT HOLDINGS
                            </div>
                            <div class='fund-details'>
                                Philippines	 / Industrials / Industrial Conglomerates 
                            </div>
                        </div>
                    </div>
                

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            88<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LARGAN PRECISION CO
                            </div>
                            <div class='fund-details'>
                                Taiwan / Information Technology / Electronic Equipment, Instruments & Components 
                            </div>
                        </div>
                    </div>
                        <div class='popup-fund'>
                        <div class='fund-num'>
                            66<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TRUE CORP
                            </div>
                            <div class='fund-details'>
                                Thailand / Communication Services / Diversified Telecommunication Services 
                            </div>
                        </div>
                    </div>
              

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            88<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                POWER FINANCE CORP
                            </div>
                            <div class='fund-details'>
                                India / Financials / Diversified Financial Services 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            66<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOWER BERSAMA INFR
                            </div>
                            <div class='fund-details'>
                                Indonesia / Communication Services / Wireless Telecommunication Services 
                            </div>
                        </div>
                    </div>
          

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            88<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PEGATRON
                            </div>
                            <div class='fund-details'>
                                Taiwan / Information Technology / Technology Hardware, Storage & Peripherals 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            63<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHRIRAM TRANSPORT FIN
                            </div>
                            <div class='fund-details'>
                                India / Financials / Consumer Finance 
                            </div>
                        </div>
                    </div>
             

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            86<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BHARAT PETROLEUM CORP
                            </div>
                            <div class='fund-details'>
                                India / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            62<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BDO UNIBANK
                            </div>
                            <div class='fund-details'>
                                Philippines	 / Financials / Banks 
                            </div>
                        </div>
                    </div>
             

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            82<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ADANI ENTERPRISES
                            </div>
                            <div class='fund-details'>
                                India / Industrials / Trading Companies & Distributors 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            62<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AU OPTRONICS CORP
                            </div>
                            <div class='fund-details'>
                                Taiwan / Information Technology / Electronic Equipment, Instruments & Components 
                            </div>
                        </div>
                    </div>
                
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            80<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AIRPORTS OF THAILAND
                            </div>
                            <div class='fund-details'>
                                Thailand / Industrials / Transportation Infrastructure 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            62<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BANK RAKYAT INDONESIA
                            </div>
                            <div class='fund-details'>
                                Indonesia / Financials / Banks 
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            76<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WAN HAI LINES
                            </div>
                            <div class='fund-details'>
                                Taiwan / Industrials / Marine 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            61<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HYUNDAI DEVELOPMENT CO
                            </div>
                            <div class='fund-details'>
                                Korea	 / Industrials / Construction & Engineering 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            76<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                UNIVERSAL ROBINA CORP
                            </div>
                            <div class='fund-details'>
                                Philippines	 / Consumer Staples / Food Products 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            60<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PIRAMAL ENTERPRISES
                            </div>
                            <div class='fund-details'>
                                India / Health Care / Pharmaceuticals 
                            </div>
                        </div>
                    </div>





                 
               

                </div>
            `)

            vis.box13 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2014ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        260<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            HANERGY SOLAR GROUP
                        </div>
                        <div class='fund-details'>
                            China / Information Technology / Semiconductors & Semiconductor Equipment  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        67<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            CHINA SOUTH LOCOMOTIVE H
                        </div>
                        <div class='fund-details'>
                            China / Industrials / Machinery  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        65<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ZHUZHOU CSR TIMES ELEC H
                        </div>
                        <div class='fund-details'>
                            China / Industrials / Electrical Equipment  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        63<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            CHINA RAILWAY GROUP H
                        </div>
                        <div class='fund-details'>
                            China / Industrials / Construction & Engineering  
                        </div>
                    </div>
                </div>
            `)

            vis.box14 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2014dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        100<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            QANTAS AIRWAYS
                        </div>
                        <div class='fund-details'>
                            Australia / Industrials / Airlines  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        79<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            NIPPON PAINT CO
                        </div>
                        <div class='fund-details'>
                            Japan / Materials	 / Chemicals  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        69<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ALIMENTATION COUCHE-T. B
                        </div>
                        <div class='fund-details'>
                            Canada / Consumer Staples / Food & Staples Retailing  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        65<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SUMCO
                        </div>
                        <div class='fund-details'>
                            Japan / Information Technology / Semiconductors & Semiconductor Equipment  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        64<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            TIM HORTONS (CA)
                        </div>
                        <div class='fund-details'>
                            Canada / Consumer Discretionary / Hotels, Restaurants & Leisure  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        64<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            KOITO MANUFACTURING CO
                        </div>
                        <div class='fund-details'>
                            Japan / Consumer Discretionary / Auto Components  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        62<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ORIENTAL LAND CO
                        </div>
                        <div class='fund-details'>
                            Japan / Consumer Discretionary / Hotels, Restaurants & Leisure  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        60<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            PCCW
                        </div>
                        <div class='fund-details'>
                            Hong Kong	 / Communication Services / Diversified Telecommunication Services  
                        </div>
                    </div>
                </div>
            `)

            vis.box15 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2014us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            126<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SOUTHWEST AIRLINES CO
                            </div>
                            <div class='fund-details'>
                                United States / Industrials / Airlines 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            77<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GREEN MOUNT COF ROASTERS
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Staples / Food Products  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ELECTRONIC ARTS
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Software  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            77<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                UNITED CONTINENTAL HLD
                            </div>
                            <div class='fund-details'>
                                United States / Industrials / Airlines  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            94<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EDWARDS LIFESCIENCES
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Health Care Equipment & Supplies  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            67<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ILLUMINA
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Life Sciences Tools & Services  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            93<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AVAGO TECHNOLOGIES
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Semiconductors & Semiconductor Equipment  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            65<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KROGER CO
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Staples / Food & Staples Retailing  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            92<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ALLERGAN
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Pharmaceuticals  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            63<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHENIERE ENERGY
                            </div>
                            <div class='fund-details'>
                                United States / Energy / Oil, Gas & Consumable Fuels  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            81<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                DELTA AIR LINES
                            </div>
                            <div class='fund-details'>
                                United States / Industrials / Airlines  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            61<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MICRON TECHNOLOGY
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Semiconductors & Semiconductor Equipment  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            77<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ROYAL CARIBBEAN CRUISES
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Hotels, Restaurants & Leisure  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            60<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MARRIOTT INT’L A
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Hotels, Restaurants & Leisure  
                            </div>
                        </div>
                    </div>
                </div>
            `)

            //// 2015
            vis.box16 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2015em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        117<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            HANWHA CHEMICAL CORP
                        </div>
                        <div class='fund-details'>
                            Korea	 / Materials	 / Chemicals 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        110<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            CELLTRION
                        </div>
                        <div class='fund-details'>
                            Korea	 / Health Care / Pharmaceuticals  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        85<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            KOREA AEROSPACE INDUS
                        </div>
                        <div class='fund-details'>
                            Korea / Industrials / Aerospace & Defense  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        76<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            AMOREPACIFIC CORP (NEW)
                        </div>
                        <div class='fund-details'>
                            Korea / Consumer Staples / Personal Products 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        72<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LG CHEM
                        </div>
                        <div class='fund-details'>
                            Korea / Materials	 / Chemicals  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        68<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SBERBANK RUSSIA PREF(RUB)
                        </div>
                        <div class='fund-details'>
                            Russia / Financials / Banks  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        67<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LG CHEM PREF
                        </div>
                        <div class='fund-details'>
                            Korea / Materials	 / Chemicals  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        66<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            HYOSUNG  CORP
                        </div>
                        <div class='fund-details'>
                            Korea / Materials	/ Chemicals  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        60<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            BRAIT SA
                        </div>
                        <div class='fund-details'>
                            South Africa / Financials / Capital Markets  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        59<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LG HOUSEHOLD & HEALTH
                        </div>
                        <div class='fund-details'>
                            Korea / Consumer Staples / Household Products  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        55<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SURGUTNEFTEGAZ PREF(RUB)
                        </div>
                        <div class='fund-details'>
                            Russia / Energy / Oil, Gas & Consumable Fuels  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        54<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            S-OIL CORP
                        </div>
                        <div class='fund-details'>
                            Korea	 / Energy / Oil, Gas & Consumable Fuels  
                        </div>
                    </div>
                </div>

            `)

            vis.box17 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2015ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        145<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            EVERGRANDE REAL ESTATE
                        </div>
                        <div class='fund-details'>
                            China / Financials / Real Estate Management & Development  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        122<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            CHINA HUISHAN DAIRY HLDG
                        </div>
                        <div class='fund-details'>
                            China / Consumer Staples / Food Products  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        99<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            CHINA RESOURCES ENT.
                        </div>
                        <div class='fund-details'>
                            China / Consumer Staples / Food & Staples Retailing  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        79<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SHENZHOU INTERNATIONAL
                        </div>
                        <div class='fund-details'>
                            China / Consumer Discretionary / Textiles, Apparel & Luxury Goods  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        68<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            GEELY AUTOMOBILE HLDGS
                        </div>
                        <div class='fund-details'>
                            China / Consumer Discretionary / Automobiles  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        61<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ANTA SPORTS PRODUCTS
                        </div>
                        <div class='fund-details'>
                            China / Consumer Discretionary / Textiles, Apparel & Luxury Goods 
                        </div>
                    </div>
                </div>
            `)

            vis.box18 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2015dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            104<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ONO PHARMACEUTICAL CO
                            </div>
                            <div class='fund-details'>
                                Japan / Health Care / Pharmaceuticals  
                            </div>
                        </div>
                    </div>
    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            67<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YAMAHA CORP
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Leisure Products  
                            </div>
                        </div>
                    </div>

              

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            98<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KANEKA CORP
                            </div>
                            <div class='fund-details'>
                                Japan / Materials	 / Chemicals  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            64<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TREASURY WINE ESTATES
                            </div>
                            <div class='fund-details'>
                                Australia / Consumer Staples / Beverages  
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            94<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                VESTAS WIND SYSTEMS
                            </div>
                            <div class='fund-details'>
                                Denmark / Industrials / Electrical Equipment  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            60<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MITSUI CHEMICALS
                            </div>
                            <div class='fund-details'>
                                Japan / Materials	 / Chemicals  
                            </div>
                        </div>
                    </div>

               

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            84<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YAMAZAKI BAKING CO
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Staples / Food Products  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            59<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NTT CORP
                            </div>
                            <div class='fund-details'>
                                Japan / Communication Services / Diversified Telecommunication Services  
                            </div>
                        </div>
                    </div>

                

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            83<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MEIJI HOLDINGS CO
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Staples / Food Products  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            58<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NITORI HOLDINGS CO
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Specialty Retail  
                            </div>
                        </div>
                    </div>

                 

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            83<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MARUI GROUP CO
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Multiline Retail  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            58<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                OTSUKA CORP
                            </div>
                            <div class='fund-details'>
                                Japan / Information Technology / IT Services 
                            </div>
                        </div>
                    </div>

            

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            78<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHIONOGI & CO
                            </div>
                            <div class='fund-details'>
                                Japan / Health Care / Pharmaceuticals  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            57<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PANDORA
                            </div>
                            <div class='fund-details'>
                                Denmark / Consumer Discretionary / Textiles, Apparel & Luxury Goods 
                            </div>
                        </div>
                    </div>

               

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            76<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NEXON CO
                            </div>
                            <div class='fund-details'>
                                Japan / Information Technology / Software  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            57<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SANTEN PHARMACEUTICAL CO
                            </div>
                            <div class='fund-details'>
                                Japan / Health Care / Pharmaceuticals 
                            </div>
                        </div>
                    </div>

               

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            75<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EISAI CO
                            </div>
                            <div class='fund-details'>
                                Japan / Health Care / Pharmaceuticals  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            56<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AEON CO
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Staples / Food & Staples Retailing  
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            72<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NISSHIN SEIFUN GROUP
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Staples / Food Products  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            56<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                DAIWA HOUSE IND CO
                            </div>
                            <div class='fund-details'>
                                Japan / Financials / Real Estate Management & Development  
                            </div>
                        </div>
                    </div>

                

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            70<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KYOWA HAKKO KIRIN CO
                            </div>
                            <div class='fund-details'>
                                Japan / Health Care / Pharmaceuticals  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            56<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                IIDA GROUP HOLDINGS CO
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Household Durables  
                            </div>
                        </div>
                    </div>

                 

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            68<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PARK24 CO
                            </div>
                            <div class='fund-details'>
                                Japan / Industrials / Commercial Services & Supplies  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            55<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CASIO COMPUTER CO
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Household Durables  
                            </div>
                        </div>
                    </div>

              

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            67<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHIMADZU CORP
                            </div>
                            <div class='fund-details'>
                                Japan / Information Technology / Electronic Equipment, Instruments & Components  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            55<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ACOM CO
                            </div>
                            <div class='fund-details'>
                                Japan / Financials / Consumer Finance  
                            </div>
                        </div>
                    </div>
                    

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            67<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ALFRESA HOLDINGS
                            </div>
                            <div class='fund-details'>
                                Japan / Health Care / Health Care Providers & Services  
                            </div>
                        </div>
                    </div>
                    <div></div>
                </div>
            `)

            vis.box19 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2015us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            134<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NETFLIX
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Internet & Direct Marketing Retail 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            118<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AMAZON.COM
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Internet & Direct Marketing Retail 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            94<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ACTIVISION BLIZZARD
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Software 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            67<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NVIDIA
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Semiconductors & Semiconductor Equipment 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            58<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CABLEVISION SYSTEMS A
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Media 							
                            </div>
                        </div>
                    </div>

            `)


            //// 2016
            vis.box20 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2016em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='three-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            250<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ADARO ENERGY PT
                            </div>
                            <div class='fund-details'>
                                Indonesia / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>
                      <div class='popup-fund'>
                        <div class='fund-num'>
                            135<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EXXARO RESOURCES
                            </div>
                            <div class='fund-details'>
                                South Africa / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            99<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BANCO BRADESCO ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Financials / Banks 
                            </div>
                        </div>
                    </div>



                    <div class='popup-fund'>
                        <div class='fund-num'>
                            230<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CSN SIDERURGICA NATL ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            135<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                VEDANTA
                            </div>
                            <div class='fund-details'>
                                India / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            97<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EQUATORIAL ENERGIA ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Utilities / Electric Utilities 
                            </div>
                        </div>
                    </div>




                    <div class='popup-fund'>
                        <div class='fund-num'>
                            201<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ELETROBRAS PN B
                            </div>
                            <div class='fund-details'>
                                Brazil / Utilities / Electric Utilities 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            129<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BIDVEST GROUP
                            </div>
                            <div class='fund-details'>
                                South Africa	/ Industrials	/ Industrial Conglomerates 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            97<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COSAN ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            184<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GERDAU PN
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            129<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BARLOWORLD
                            </div>
                            <div class='fund-details'>
                                South Africa	/ Industrials / Trading Companies & Distributors 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            96<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ROSNEFT (RUB)
                            </div>
                            <div class='fund-details'>
                                Russia / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            179<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                VALE PN A
                            </div>
                            <div class='fund-details'>
                                Brazil	 / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            113<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ALROSA (RUB)
                            </div>
                            <div class='fund-details'>
                                Russia / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            93<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                IMPALA PLATINUM HOLDINGS
                            </div>
                            <div class='fund-details'>
                                South Africa	/ Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            170<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PETROBRAS PN
                            </div>
                            <div class='fund-details'>
                                Brazil / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            113<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                M DIAS BRANCO ON
                            </div>
                            <div class='fund-details'>
                                Brazil / Consumer Staples / Food Products 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            92<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MULTIPLAN EMPREENDIM ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Financials / Real Estate Management & Development 
                            </div>
                        </div>
                    </div>



                    <div class='popup-fund'>
                        <div class='fund-num'>
                            164<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BUENAVENTURA MINAS ADR
                            </div>
                            <div class='fund-details'>
                                Peru / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            112<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                RAIA DROGASIL ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Consumer Staples / Food & Staples Retailing 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            90<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BM&F BOVESPA ON
                            </div>
                            <div class='fund-details'>
                                Brazil / Financials / Diversified Financial Services 
                            </div>
                        </div>
                    </div>



                    <div class='popup-fund'>
                        <div class='fund-num'>
                            142<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BANCO BRASIL ON
                            </div>
                            <div class='fund-details'>
                                Brazil / Financials / Banks 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            111<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BANCO BRADESCO PN
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Financials / Banks 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            87<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SABESP ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Utilities / Water Utilities 
                            </div>
                        </div>
                    </div>



                    <div class='popup-fund'>
                        <div class='fund-num'>
                            141<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                VALE ON
                            </div>
                            <div class='fund-details'>
                                Brazil / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            109<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CPFL ENERGIA ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Utilities / Electric Utilities 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            86<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LUKOIL HOLDING(RUB)
                            </div>
                            <div class='fund-details'>
                                Russia / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>



                    <div class='popup-fund'>
                        <div class='fund-num'>
                            140<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PETROBRAS ON
                            </div>
                            <div class='fund-details'>
                                Brazil	/ Energy  / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            107<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SBERBANK RUSSIA COM(RUB)
                            </div>
                            <div class='fund-details'>
                                Russia / Financials	 / Banks 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            84<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                QUALICORP ON
                            </div>
                            <div class='fund-details'>
                                Brazil / Health Care / Health Care Providers & Services 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            138<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BK SANTANDER BRASIL UNIT
                            </div>
                            <div class='fund-details'>
                                Brazil / Financials / Banks 
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            101<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SEVERSTAL (RUB)
                            </div>
                            <div class='fund-details'>
                                Russia / Materials	 / Metals & Mining 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            84<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                INDUSTRIAS PENOLES CP
                            </div>
                            <div class='fund-details'>
                                Mexico / Materials	 / Metals & Mining 
                            </div>
                        </div>
                    </div>

                </div>
            `)

            vis.box21 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2016ch')

            vis.box22 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2016dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        424<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            TECK RESOURCES B
                        </div>
                        <div class='fund-details'>
                            Canada / Materials / Metals & Mining  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        226<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            FORTESCUE METALS GROUP
                        </div>
                        <div class='fund-details'>
                            Australia / Materials / Metals & Mining  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        225<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ANGLO AMERICAN
                        </div>
                        <div class='fund-details'>
                            United Kingdom	/ Materials / Metals & Mining  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        187<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            MELROSE INDUSTRIES
                        </div>
                        <div class='fund-details'>
                            United Kingdom / Industrials / Machinery  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        167<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            FIRST QUANTUM MINERALS
                        </div>
                        <div class='fund-details'>
                            Canada / Materials / Metals & Mining  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        159<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SOUTH 32 (AU)
                        </div>
                        <div class='fund-details'>
                            Australia / Materials / Metals & Mining

                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        157<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            GLENCORE
                        </div>
                        <div class='fund-details'>
                            United Kingdom	/ Materials / Metals & Mining  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        141<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SEVEN GENERATIONS ENRG A
                        </div>
                        <div class='fund-details'>
                            Canada / Energy / Oil, Gas & Consumable Fuels  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        134<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ENCANA CORP
                        </div>
                        <div class='fund-details'>
                            Canada / Energy / Oil, Gas & Consumable Fuels  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        123<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ARCELORMITTAL A
                        </div>
                        <div class='fund-details'>
                            France / Materials / Metals & Mining  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        118<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            BARRICK GOLD CORP
                        </div>
                        <div class='fund-details'>
                            Canada / Materials / Metals & Mining  
                        </div>
                    </div>
                </div>
            `)

            vis.box23 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2016us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            227<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NVIDIA
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Semiconductors & Semiconductor Equipment 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            149<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ONEOK
                            </div>
                            <div class='fund-details'>
                                United States / Energy / Oil, Gas & Consumable Fuels 							
                            </div>
                        </div>
                    </div>

                            <div class='popup-fund'>
                        <div class='fund-num'>
                            133<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SPRINT CORP
                            </div>
                            <div class='fund-details'>
                                United States / Communication Services	/ Wireless Telecommunication Services 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            124<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CONTINENTAL RESOURCES
                            </div>
                            <div class='fund-details'>
                                United States / Energy / Oil, Gas & Consumable Fuels 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            95<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                FREEPORT MCMORAN B
                            </div>
                            <div class='fund-details'>
                                United States / Materials / Metals & Mining 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            90<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NEWMONT MINING CORP
                            </div>
                            <div class='fund-details'>
                                United States / Materials / Metals & Mining 							
                            </div>
                        </div>
                    </div>

            `)

            //// 2017
            vis.box24 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2017em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='two-columns'>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            191<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TURK HAVA YOLLARI
                            </div>
                            <div class='fund-details'>
                                Turkey / Industrials / Airlines 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            115<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SOQUIMICH PREF B
                            </div>
                            <div class='fund-details'>
                                Chile	 / Materials	 / Chemicals 
                            </div>
                        </div>
                    </div>

                   

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            181<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TITAN COMPANY
                            </div>
                            <div class='fund-details'>
                                India	/ Consumer Discretionary / Textiles, Apparel & Luxury Goods 
                            </div>
                        </div>
                    </div>
                           
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            113<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EXXARO RESOURCES
                            </div>
                            <div class='fund-details'>
                                South Africa / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>
             

              

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            177<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SAMSUNG BIOLOGICS
                            </div>
                            <div class='fund-details'>
                                Korea / Health Care / Life Sciences Tools & Services 
                            </div>
                        </div>
                    </div>
      
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            113<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SAMSUNG SDI CO
                            </div>
                            <div class='fund-details'>
                                Korea / Information Technology / Electronic Equipment, Instruments & Components 
                            </div>
                        </div>
                    </div>

                 

              

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            149<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HARTALEGA HOLDINGS
                            </div>
                            <div class='fund-details'>
                                Malaysia / Health Care	/ Health Care Equipment & Supplies 
                            </div>
                        </div>
                    </div>
    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            111<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PETKIM PETROKIMYA HLDG
                            </div>
                            <div class='fund-details'>
                                Turkey / Materials / Chemicals 
                            </div>
                        </div>
                    </div>


                

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            142<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HIWIN TECHNOLOGIES CORP
                            </div>
                            <div class='fund-details'>
                                Taiwan / Industrials / Machinery 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            107<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                RUMO LOGISTICA ON
                            </div>
                            <div class='fund-details'>
                                Brazil	 / Industrials / Road & Rail 
                            </div>
                        </div>
                    </div>

                


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            137<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CELLTRION
                            </div>
                            <div class='fund-details'>
                                Korea	 / Health Care /  Biotechnology 
                            </div>
                        </div>
                    </div>

                    
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            107<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BANK MILLENNIUM
                            </div>
                            <div class='fund-details'>
                                Poland / Financials / Banks 
                            </div>
                        </div>
                    </div>



                    <div class='popup-fund'>
                        <div class='fund-num'>
                            134<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HANMI PHARM CO (NEW)
                            </div>
                            <div class='fund-details'>
                                Korea	 / Health Care / Pharmaceuticals 
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            106<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NCSOFT CORP
                            </div>
                            <div class='fund-details'>
                                Korea	 / Information Technology / Software 
                            </div>
                        </div>
                    </div>


              



                    <div class='popup-fund'>
                        <div class='fund-num'>
                            133<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LG ELECTRONICS (NEW)
                            </div>
                            <div class='fund-details'>
                                Korea	 / Consumer Discretionary / Household Durables 
                            </div>
                        </div>
                    </div>

                    
    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            106<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ACER
                            </div>
                            <div class='fund-details'>
                                Taiwan / Information Technology / Technology Hardware, Storage & Peripherals
                            </div>
                        </div>
                    </div>
                    
                    



                    

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            123<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SAMSUNG ELECTRO-MECH. CO
                            </div>
                            <div class='fund-details'>
                                Korea	 / Information Technology / Electronic Equipment, Instruments & Components 
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            103<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TATA STEEL
                            </div>
                            <div class='fund-details'>
                                India / Materials / Metals & Mining

                            </div>
                        </div>
                    </div>

                    
            

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            122<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BAJAJ FINANCE
                            </div>
                            <div class='fund-details'>
                                India	/ Financials	 / Consumer Finance 
                            </div>
                        </div>
                    </div>
                    
                           
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                INDIABULLS HOUSING FIN
                            </div>
                            <div class='fund-details'>
                                India	/ Financials	 / Thrifts & Mortgage Finance 
                            </div>
                        </div>
                    </div>

    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            122<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HANMI SCIENCE CO
                            </div>
                            <div class='fund-details'>
                                Korea	 / Health Care / Pharmaceuticals 
                            </div>
                        </div>
                    </div>

                     
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LOCALIZA RENT A CAR ON
                            </div>
                            <div class='fund-details'>
                                Brazil	 / Industrials / Road & Rail 
                            </div>
                        </div>
                    </div>
                    
                    

                </div>
            `)

            vis.box25 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2017ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            453<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA EVERGRANDE GROUP
                            </div>
                            <div class='fund-details'>
                                China / Real Estate / Real Estate Management & Development  
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            124<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NEW ORIENTAL EDUCAT ADR
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Diversified Consumer Services  
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            409<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SUNAC CHINA HOLDINGS
                            </div>
                            <div class='fund-details'>
                                China / Real Estate / Real Estate Management & Development  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            116<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ZTE CORP H
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Communications Equipment  
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            266<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GEELY AUTOMOBILE HLDGS
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Automobiles  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            113<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TENCENT HOLDINGS LI (CN)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Internet Software & Services  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            250<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COUNTRY GARDEN HLDGS
                            </div>
                            <div class='fund-details'>
                                China / Real Estate / Real Estate Management & Development  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            112<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHANGHAI FOSUN PHARMA H
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Pharmaceuticals  
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            193<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SUNNY OPTICAL TECH
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Electronic Equipment, Instruments & Components  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            112<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PING AN INSURANCE H
                            </div>
                            <div class='fund-details'>
                                China / Financials / Insurance  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            187<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YY INC ADR
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Internet Software & Services  
                            </div>
                        </div>
                    </div>

                    
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            107<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LONGFOR PROPERTIES CO
                            </div>
                            <div class='fund-details'>
                                China / Real Estate / Real Estate Management & Development  
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            156<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                58.COM ADR
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Internet Software & Services  
                            </div>
                        </div>
                    </div>

                    

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            107<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA GAS HOLDINGS
                            </div>
                            <div class='fund-details'>
                                China / Utilities / Gas Utilities 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            155<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TAL EDUCATION GROUP ADR
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Diversified Consumer Services  
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            103<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GUANGZHOU R&F PROP H

                            </div>
                            <div class='fund-details'>
                                China / Real Estate / Real Estate Management & Development  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            155<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WEIBO CORP ADR
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Internet Software & Services  
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA STH AIRLINES H
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Airlines  
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            154<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SINO BIOPHARMACEUTICAL
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Pharmaceuticals  
                            </div>
                        </div>
                    </div>
                    <div></div>
                  
                </div>
            `)

            vis.box26 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2017dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        194<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LUFTHANSA
                        </div>
                        <div class='fund-details'>
                            Germany / Industrials / Airlines  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        186<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            YASKAWA ELECTRIC CORP
                        </div>
                        <div class='fund-details'>
                            Japan / Information Technology / Electronic Equipment, Instruments & Components  
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        126<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            MINEBEA CO
                        </div>
                        <div class='fund-details'>
                            Japan / Industrials / Machinery  
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        117<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SHANGRI-LA ASIA
                        </div>
                        <div class='fund-details'>
                            Hong Kong	 / Consumer Discretionary / Hotels, Restaurants & Leisure  
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        113<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            KERING
                        </div>
                        <div class='fund-details'>
                            France / Consumer Discretionary / Textiles, Apparel & Luxury Goods  
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        106<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            WYNN MACAU
                        </div>
                        <div class='fund-details'>
                            Hong Kong / Consumer Discretionary / Hotels, Restaurants & Leisure  
                        </div>
                    </div>
                </div>
            `)

            vis.box27 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2017us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            131<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ALIGN TECHNOLOGY
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Health Care Equipment & Supplies 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            103<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                VERTEX PHARMACEUTICALS
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Biotechnology 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MERCADOLIBRE
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Internet Software & Services 							
                            </div>
                        </div>
                    </div>

            `)

            //// 2018
            vis.box28 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2018em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            131<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHAROEN POKPHAND INDO
                            </div>
                            <div class='fund-details'>
                                Indonesia / Consumer Staples / Food Products 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            86<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CEMIG PN
                            </div>
                            <div class='fund-details'>
                                Brazil	 / Utilities / Electric Utilities 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            75<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SUZANO PAPEL E CELU ON
                            </div>
                            <div class='fund-details'>
                                Brazil / Materials / Paper & Forest Products 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            65<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                QATAR ISLAMIC BANK
                            </div>
                            <div class='fund-details'>
                                Qatar / Financials	  / Banks 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            62<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                QATAR NATIONAL BANK
                            </div>
                            <div class='fund-details'>
                                Qatar	 / Financials / Banks 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            51<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GS ENGINEERING & CONSTR
                            </div>
                            <div class='fund-details'>
                                Korea	 / Industrials / Construction & Engineering 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            46<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                FIRST ABU DHABI BANK
                            </div>
                            <div class='fund-details'>
                                United Arab Emirates / Financials / Banks 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            46<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HYUNDAI ENGR. & CONSTR.
                            </div>
                            <div class='fund-details'>
                                Korea	 / Industrials / Construction & Engineering 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            45<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                INDUSTRIES QATAR
                            </div>
                            <div class='fund-details'>
                                Qatar	 / Industrials / Industrial Conglomerates 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            45<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NOVATEK GDR
                            </div>
                            <div class='fund-details'>
                                Russia / Energy / Oil, Gas & Consumable Fuels 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            44<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LOTOS GROUP
                            </div>
                            <div class='fund-details'>
                                Poland / Energy / Oil, Gas & Consumable Fuels 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            43<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NESTLE (MALAYSIA)
                            </div>
                            <div class='fund-details'>
                                Malaysia / Consumer Staples / Food Products 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            41<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COMMERCIAL BANK OF QATAR
                            </div>
                            <div class='fund-details'>
                                Qatar	 / Financials / Banks 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            39<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CD PROJEKT
                            </div>
                            <div class='fund-details'>
                                Poland / Information Technology / Software 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            38<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BAJAJ FINANCE
                            </div>
                            <div class='fund-details'>
                                India	 / Financials / Consumer Finance 							
                            </div>
                        </div>
                    </div>

            `)

            vis.box29 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2018ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        61<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ALIBABA HEALTH INFO TECH
                        </div>
                        <div class='fund-details'>
                            China / Health Care / Health Care Technology  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                        <div class='fund-num'>
                            50<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GUANGDONG INVESTMENT
                            </div>
                            <div class='fund-details'>
                                China / Utilities / Water Utilities 							
                            </div>
                        </div>
                    </div>
            `)

            vis.box30 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2018dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        118<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SUMITOMO DAINIPPON PHARM
                        </div>
                        <div class='fund-details'>
                            Japan / Health Care / Pharmaceuticals  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                        <div class='fund-num'>
                            83<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                FAMILYMART UNY HLDGS CO
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Staples / Food & Staples Retailing 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            56<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOHO GAS CO
                            </div>
                            <div class='fund-details'>
                                Japan / Utilities / Gas Utilities 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            50<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOKYO ELECTRIC POWER CO
                            </div>
                            <div class='fund-details'>
                                Japan / Utilities / Electric Utilities 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            45<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ISRAEL CHEMICALS
                            </div>
                            <div class='fund-details'>
                                Israel / Materials / Chemicals 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            44<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOYO SEIKAN GROUP HLDGS
                            </div>
                            <div class='fund-details'>
                                Japan / Materials / Containers & Packaging 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            42<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BANDAI NAMCO HOLDINGS
                            </div>
                            <div class='fund-details'>
                                Japan / Consumer Discretionary / Leisure Products 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            40<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COLRUYT
                            </div>
                            <div class='fund-details'>
                                Belgium / Consumer Staples	  / Food & Staples Retailing 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            40<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KEIHAN HOLDINGS CO
                            </div>
                            <div class='fund-details'>
                                Japan / Industrials / Industrial Conglomerates 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            39<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EISAI CO
                            </div>
                            <div class='fund-details'>
                                Japan / Health Care / Pharmaceuticals 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            38<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YAMATO HOLDINGS CO
                            </div>
                            <div class='fund-details'>
                                Japan / Industrials / Air Freight & Logistics 							
                            </div>
                        </div>
                    </div>
            `)

            vis.box31 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2018us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            80<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ADVANCED MICRO DEVICES
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Semiconductors & Semiconductor Equipment 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            43<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HCA HOLDINGS
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Health Care Providers & Services 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            62<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SQUARE
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / IT Services 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            43<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                O’REILLY AUTOMOTIVE
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Specialty Retail 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            62<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                VEEVA SYSTEMS A
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Health Care Technology 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            43<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BOSTON SCIENTIFIC CORP
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Health Care Equipment & Supplies 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            61<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                FORTINET
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Software 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            41<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                21ST CENTURY FOX B
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Media 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            58<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ADVANCE AUTO PARTS
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Specialty Retail 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            41<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                21ST CENTURY FOX A
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Media 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            57<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WORKDAY A
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Software 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            40<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LILLY (ELI) & COMPANY
                            </div>
                            <div class='fund-details'>
                                United States / Health Care /  Pharmaceuticals 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            57<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TRIPADVISOR
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary /  Internet & Direct Marketing Retail 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            40<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MERCK & CO
                            </div>
                            <div class='fund-details'>
                                United States / Health Care / Pharmaceuticals 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            55<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LULULEMON ATHLETICA
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Textiles, Apparel & Luxury Goods 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            39<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NETFLIX
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary /  Internet & Direct Marketing Retail 							
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            50<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                IAC/INTERACTIVECORP A
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Internet Software & Services 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            39<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MCCORMICK & CO NV
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Staples / Food Products 							
                            </div>
                        </div>
                    </div>

                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            49<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHIPOTLE MEXICAN GRILL A
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Hotels, Restaurants & Leisure  							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            39<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AES CORP
                            </div>
                            <div class='fund-details'>
                                United States / Utilities / Independent Power and Renewable Electricity Producers 							
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            46<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                RED HAT
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Software 							
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            39<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                DELL TECHNOLOGIES
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Software 							
                            </div>
                        </div>
                    </div>


                </div>
            `)

            //// 2019
            vis.box32 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2019em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            181<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HOTAI MOTOR COMPANY
                            </div>
                            <div class='fund-details'>
                                Taiwan / Consumer Discretionary / Specialty Retail 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            161<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WIN SEMICONDUCTORS
                            </div>
                            <div class='fund-details'>
                                Taiwan / Information Technology / Semiconductors & Semiconductor Equipment 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            156<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ANGLO AMERICAN PLATINUM
                            </div>
                            <div class='fund-details'>
                                South Africa / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            124<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GULF ENERGY DEVELOPMENT
                            </div>
                            <div class='fund-details'>
                                Thailand / Utilities / Independent Power and Renewable Electricity Producers 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            115<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SURGUTNEFTEGAZ COMN(RUB)
                            </div>
                            <div class='fund-details'>
                                Russia / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            114<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                JBS ON
                            </div>
                            <div class='fund-details'>
                                Brazil	 / Consumer Staples / Food Products 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            108<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SUL AMERICA UNITS
                            </div>
                            <div class='fund-details'>
                                Brazil / Financials / Insurance 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COSAN ON
                            </div>
                            <div class='fund-details'>
                                Brazil / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MAGAZINE LUIZA ON
                            </div>
                            <div class='fund-details'>
                                Brazil / Consumer Discretionary / Multiline Retail 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            104<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MEDIATEK INC
                            </div>
                            <div class='fund-details'>
                                Taiwan / Information Technology / Semiconductors & Semiconductor Equipment 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            102<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GOLD FIELDS
                            </div>
                            <div class='fund-details'>
                                South Africa / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            101<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GAZPROM (RUB)
                            </div>
                            <div class='fund-details'>
                                Russia / Energy / Oil, Gas & Consumable Fuels 
                            </div>
                        </div>
                    </div>

            `)

            vis.box33 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2019ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='two-columns'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            234<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LUXSHARE PREC A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Electrical Equipment  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            114<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SINO BIOPHARMACEUTICAL
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Pharmaceuticals 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            205<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MUYUAN FOODSTUFF A(HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Food Products  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            114<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LUZHOU LAOJIAO A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Beverages  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            189<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GOERTEK A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Electronic Equipment, Instruments & Components  
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            113<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COUNTRY GARDEN SVCS
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Commercial Services & Supplies 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            187<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WUHU SHUNRONG A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Communication Services / Entertainment  
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            111<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WEICHAI POWER A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Machinery  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            171<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NEW HOPE LIUHE A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Food Products  
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            110<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ZHONGSHENG GROUP HLDGS
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Specialty Retail 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            162<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WULIANGYE YIBIN A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Beverages  
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            107<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                XINYI SOLAR HLDGS (CN)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Semiconductors & Semiconductor Equipment 
                            </div>
                        </div>
                    </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            160<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                VIPSHOP HOLDINGS ADR
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Internet & Direct Marketing Retail  
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            106<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SANY HEAVY IND A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Machinery 
                            </div>
                        </div>
                    </div>                   
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            155<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHANXI XINGHUAC A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Beverages 
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            101<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KWEICHOW MOUTAI A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Beverages 
                            </div>
                        </div>
                    </div> 

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            141<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YIHAI INTL HLDG
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Food Products  
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            98<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WUXI BIOLOGICS
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Life Sciences Tools & Services 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            123<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GDS HOLDINGS A ADR
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / IT Services 
                            </div>
                        </div>
                    </div>
                    
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            97<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                JIANGSU HENGRUI A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Pharmaceuticals 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            121<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NEW ORIENTAL EDUCAT ADR
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Diversified Consumer Services  
                            </div>
                        </div>
                    </div>
                </div>
            `)

            vis.box34 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2019dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        196<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            FORTESCUE METALS GROUP
                        </div>
                        <div class='fund-details'>
                            Australia / Materials / Metals & Mining  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        188<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SHOPIFY A
                        </div>
                        <div class='fund-details'>
                            Canada / Information Technology / IT Services  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        184<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            HITACHI CHEMICAL CO
                        </div>
                        <div class='fund-details'>
                            Japan / Materials	  / Chemicals  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        131<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            HITACHI HIGH-TECH
                        </div>
                        <div class='fund-details'>
                            Japan / Information Technology / Electronic Equipment, Instruments & Components  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        127<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            M3
                        </div>
                        <div class='fund-details'>
                            Japan / Health Care / Health Care Technology  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        113<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            DELIVERY HERO
                        </div>
                        <div class='fund-details'>
                            Germany / Consumer Discretionary / Internet & Direct Marketing Retail  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        111<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            DAIICHI SANKYO CO
                        </div>
                        <div class='fund-details'>
                            Japan / Health Care / Pharmaceuticals  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        107<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            DISCO CORP
                        </div>
                        <div class='fund-details'>
                            Japan / Information Technology / Semiconductors & Semiconductor Equipment  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        103<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            OLYMPUS CORP
                        </div>
                        <div class='fund-details'>
                            Japan / Health Care / Health Care Equipment & Supplies  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        101<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LONDON STOCK EXCHANGE
                        </div>
                        <div class='fund-details'>
                            United Kingdom / Financials / Capital Markets

                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        99<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            TOKYO ELECTRON
                        </div>
                        <div class='fund-details'>
                            Japan / Information Technology / Semiconductors & Semiconductor Equipment  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        98<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ZALANDO
                        </div>
                        <div class='fund-details'>
                            Germany / Consumer Discretionary / Internet & Direct Marketing Retail  
                        </div>
                    </div>
                </div>
            `)

            vis.box35 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2019us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            148<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ADVANCED MICRO DEVICES
                            </div>
                            <div class='fund-details'>
                                United States / Information Technology / Semiconductors & Semiconductor Equipment 							
                            </div>
                        </div>
                    </div>


                <div class='popup-fund'>
                    <div class='fund-num'>
                        119<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LAM RESEARCH CORP
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology / Semiconductors & Semiconductor Equipment  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        104<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            KLA TENCOR CORP
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology /  Semiconductors & Semiconductor Equipment  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        102<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SEATTLE GENETICS
                        </div>
                        <div class='fund-details'>
                            United States / Health Care / Biotechnology  
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        100<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            TARGET CORP
                        </div>
                        <div class='fund-details'>
                            United States / Consumer Discretionary / Multiline Retail  
                        </div>
                    </div>
                </div>
            `)

            //// 2020
            vis.box36 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2020em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            314<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOP GLOVE CORP
                            </div>
                            <div class='fund-details'>
                                Malaysia / Health Care / Health Care Equipment & Supplies 
                            </div>
                        </div>
                    </div>


                <div class='popup-fund'>
                    <div class='fund-num'>
                        250<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            EVERGREEN MARINE CORP
                        </div>
                        <div class='fund-details'>
                            Taiwan / Industrials / Marine
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        234<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            CELLTRION HEALTHCARE
                        </div>
                        <div class='fund-details'>
                            Korea / Health Care / Health Care Providers & Services
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        221<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            UNITED MICROELECTRONICS
                        </div>
                        <div class='fund-details'>
                            Taiwan / Information Technology / Semiconductors & Semiconductor Equipment 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        184<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SAMSUNG SDI CO
                        </div>
                        <div class='fund-details'>
                            Korea / Information Technology / Electronic Equipment, Instruments & Components
                        </div>
                    </div>
                </div>

            `)

            vis.box37 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2020ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='auto-rows'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            1112<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                NIO A ADR
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Automobiles
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            426<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BYD CO H
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Automobiles
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            389<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GREAT WALL MOTOR H
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Automobiles
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            370<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                PINDUODUO ADR A
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Internet & Direct Marketing Retail
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            351<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHANXI XINGHUAC A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Beverages
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            337<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BYD CO A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Automobiles
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            308<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                KINGDEE INTL SOFTWARE
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Software
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            302<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LONGI GREEN ENER A(HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Semiconductors & Semiconductor Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            277<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                XINYI SOLAR HLDGS (CN)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Semiconductors & Semiconductor Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            264<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WUHAN GUIDE INF A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Electronic Equipment, Instruments & Components
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            263<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                JIANGSU HENGLI A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Machinery
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            254<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CONTEMPORARY AMP A(HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Electrical Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            242<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA INTL TRVL A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Hotels, Restaurants & Leisure
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            232<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                EVE ENERGY A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Electrical Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            228<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHENZHEN INOVANC A(HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Machinery
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            220<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHONGQING ZHIFEI A(HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Biotechnology 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            218<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TONGWEI CO A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Food Products
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            214<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                WUXI BIOLOGICS
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Life Sciences Tools & Services
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            213<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                JIANGXI GANFENG A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Materials / Metals & Mining 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            211<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                INNOVENT BIOLOGICS
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Biotechnology
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            209<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                XIAOMI CORP B
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Technology Hardware, Storage & Peripherals
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            202<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YUNNAN ENER NEW A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Materials / CONTAINERS & PACKAGING 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            196<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COSCO SHIPPING HLDGS H
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Marine
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            195<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AECC AVIATION A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Aerospace & Defense
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            191<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                MEITUAN DIANPING B
                            </div>
                            <div class='fund-details'>
                                China / Consumer Discretionary / Internet & Direct Marketing Retail  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            189<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TOPCHOICE MED A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Health Care Providers & Services 
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            188<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GUOXUAN HI TECH A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Electrical Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            183<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                LUZHOU LAOJIAO A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Consumer Staples / Beverages
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            182<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                UNIGROUP GUOXIN A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Electronic Equipment, Instruments & Components
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            179<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                AUTEK CHINA A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Health Care Equipment & Supplies  
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            175<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HANGZHOU TIGER A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Life Sciences Tools & Services
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            174<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                BYD ELECTRONIC INTL
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Communications Equipment
                            </div>
                        </div>
                    </div>

                </div>
                `)

            vis.box38 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2020dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        211<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            M3
                        </div>
                        <div class='fund-details'>
                            Japan / Health Care / Health Care Technology
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        184<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ADYEN NV
                        </div>
                        <div class='fund-details'>
                            Netherlands / Information Technology / IT Services 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        183<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SHOPIFY A
                        </div>
                        <div class='fund-details'>
                            Canada / Information Technology / IT Services
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        175<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            FORTESCUE METALS GROUP
                        </div>
                        <div class='fund-details'>
                            Australia / Materials / Metals & Mining
                        </div>
                    </div>
                </div>


            `)

            vis.box39 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2020us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            743<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TESLA
                            </div>
                            <div class='fund-details'>
                                United States / Consumer Discretionary / Automobiles				
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                    <div class='fund-num'>
                        254<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            PINTEREST A
                        </div>
                        <div class='fund-details'>
                            United States / Communication Services / Interactive Media & Services
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        248<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SQUARE
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology / IT Services 
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        244<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            TWILIO A
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology / IT Services
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        207<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SNAP A
                        </div>
                        <div class='fund-details'>
                            United States / Communication Services / Interactive Media & Services
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        200<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            DOCUSIGN
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology / Software
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        193<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            MERCADOLIBRE
                        </div>
                        <div class='fund-details'>
                            United States / Consumer Discretionary / Internet & Direct Marketing Retail
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        183<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ZILLOW GROUP C
                        </div>
                        <div class='fund-details'>
                            United States / Communication Services / Interactive Media & Services
                        </div>
                    </div>
                </div>
                                `)

            //// 2021
            vis.box = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2021em')
                .html(`
                <div class='popup-header green'>
                    <div class='popup-title'>Emerging markets (ex China)</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        262<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            EVERGREEN MARINE CORP
                        </div>
                        <div class='fund-details'>
                            Taiwan / Industrials / Marine
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        171<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            UNIMICRON TECHNOLOGY
                        </div>
                        <div class='fund-details'>
                            Taiwan / Information Technology / Electronic Equipment, Instruments & Components
                        </div>
                    </div>
                </div>					
                <div class='popup-fund'>
                    <div class='fund-num'>
                        161<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            MTN GROUP
                        </div>
                        <div class='fund-details'>
                            South Africa / Communication Services / Wireless Telecommunication Services
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        158<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            TATA MOTORS
                        </div>
                        <div class='fund-details'>
                            India / Consumer Discretionary / Automobiles
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        157<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SAHARA INTL PETROCHEM
                        </div>
                        <div class='fund-details'>
                            Saudi Arabia / Materials / Chemicals
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        143<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            PEARLABYSS
                        </div>
                        <div class='fund-details'>
                            Korea / Communication Services / Entertainment
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        130<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            VEDANTA
                        </div>
                        <div class='fund-details'>
                            India/ Materials / Metals & Mining
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        125<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            RUENTEX DEVELOPMENT CO
                        </div>
                        <div class='fund-details'>
                            Taiwan / Real Estate / Real Estate Management & Development
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        123<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SAUDI ARAB FERTILIZER
                        </div>
                        <div class='fund-details'>
                            Saudi Arabia / Materials / Chemicals
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        112<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            SILERGY CORP
                        </div>
                        <div class='fund-details'>
                            Taiwan / Information Technology / Semiconductors & Semiconductor Equipment
                        </div>
                    </div>
                </div>


                <div class='popup-fund'>
                    <div class='fund-num'>
                        104<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            APOLLO HOSPITALS
                        </div>
                        <div class='fund-details'>
                            India / Health Care / Health Care Providers & Services
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        99<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LARSEN AND TOUBRO INFO
                        </div>
                        <div class='fund-details'>
                            India / Information Technology / IT Services
                        </div>
                    </div>
                </div>
            `)

            //2021
            vis.box1 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2021ch')
                .html(`
                <div class='popup-header terq'>
                    <div class='popup-title'>CHINA</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='auto-rows' style='grid-template-rows: repeat(9, .7fr);'>
                    <div class='popup-fund'>
                        <div class='fund-num'>
                            259<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA NORTHERN A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Materials / Metals & Mining
                            </div>
                        </div>
                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            244<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA POWER INTL
                            </div>
                            <div class='fund-details'>
                                China / Utilities / Independent Power and Renewable Electricity Producers
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            228<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA RESOURCES POWER
                            </div>
                            <div class='fund-details'>
                                China / Utilities / Independent Power and Renewable Electricity Producers
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            204<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GENSCRIPT BIOTECH
                            </div>
                            <div class='fund-details'>
                                China / Health Care / Life Sciences Tools & Services
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            177<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YANZHOU COAL MINING H
                            </div>
                            <div class='fund-details'>
                                China / Energy / Oil, Gas & Consumable Fuels
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            153<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                YANZHOU COAL A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Energy / Oil, Gas & Consumable Fuels
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            148<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHANXI MEIJIN A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Energy / Oil, Gas & Consumable Fuels
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            144<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                INNER MONGOL BAO A(HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Materials / Metals & Mining
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            137<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                ZHEJIANG JINGSH A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Semiconductors & Semiconductor Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            136<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                GUANGHUI ENER A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Energy / Oil, Gas & Consumable Fuels
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            136<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA LONGYUAN POWER H
                            </div>
                            <div class='fund-details'>
                                China / Utilities / Independent Power and Renewable Electricity Producers
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            133<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                JA SOLAR TECH A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Semiconductors & Semiconductor Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            132<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA STATE CONSTRUCTION
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Construction & Engineering
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            131<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HUANENG POWER A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Utilities / Independent Power and Renewable Electricity Producers
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            123<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                DONGFANG ELECTR A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Electrical Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            122<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                HANGZHOU SILAN A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Information Technology / Semiconductors & Semiconductor Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            121<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHANXI TAIGANG A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Materials / Metals & Mining
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            118<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                POWER CONSTR A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Construction & Engineering
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            117<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                TEBIAN ELEC APP A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Electrical Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            116<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA NATL CHEM A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Construction & Engineering
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            110<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COSCO SHIPPING HLDGS H
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Marine
                            </div>
                        </div>
                                    </div>


                    <div class='popup-fund'>
                        <div class='fund-num'>
                            106<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SUNGROW POWER A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Electrical Equipment
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            106<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                CHINA OVERSEAS PPTY HLDG
                            </div>
                            <div class='fund-details'>
                                China / Real Estate / Real Estate Management & Development
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            105<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                SHANGHAI PUTAIL A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Materials / Chemicals
                            </div>
                        </div>
                    </div>

                    <div class='popup-fund'>
                        <div class='fund-num'>
                            103<sup>%</sup>
                        </div>
                        <div class='fund-content'>
                            <div class='fund-name'>
                                COSCO SHIP HLDG A (HK-C)
                            </div>
                            <div class='fund-details'>
                                China / Industrials / Marine
                            </div>
                        </div>
                    </div>

                </div>

            `)

            //2021
            vis.box2 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2021dv')
                .html(`
                <div class='popup-header sky'>
                    <div class='popup-title'>Developed international</div>
                    <div class='popup-returns'>% return</div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        249<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            NIPPON YUSEN K.K
                        </div>
                        <div class='fund-details'>
                            Japan / Industrials / Marine
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        162<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            LASERTEC CORP
                        </div>
                        <div class='fund-details'>
                            Japan / Industrials / Semiconductors & Semiconductor Equipment
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        114<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            EQT AB
                        </div>
                        <div class='fund-details'>
                            Sweden / Financials / Capital Markets
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        103<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            CENOVUS ENERGY
                        </div>
                        <div class='fund-details'>
                            Canada / Energy / Oil, Gas & Consumable Fuels
                        </div>
                    </div>
                </div>
                
            `)

            //2021
            vis.box3 = d3.select('#master-float').append('div').attr('class', 'popup-box').attr('id', 'popup-2021us')
                .html(`
                <div class='popup-header blue'>
                    <div class='popup-title'>United States</div>
                    <div class='popup-returns'>% return</div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        143<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            MODERNA
                        </div>
                        <div class='fund-details'>
                            United States / Health Care / Biotechnology								
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        142<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            FORTINET
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology / Software
                        </div>
                    </div>
                </div>

                <div class='popup-fund'>
                    <div class='fund-num'>
                        137<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            FORD MOTOR CO
                        </div>
                        <div class='fund-details'>
                            United States / Consumer Discretionary / Automobiles
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        125<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            NVIDIA
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology / Semiconductors & Semiconductor Equipment
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        118<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            NUCOR CORP
                        </div>
                        <div class='fund-details'>
                            United States / Materials / Metals & Mining
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        109<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            GARTNER
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology / IT Services
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        108<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            ON SEMICONDUCTOR CORP
                        </div>
                        <div class='fund-details'>
                            United States / Information Technology / Semiconductors & Semiconductor Equipment
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        107<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            BLACKSTONE GROUP A
                        </div>
                        <div class='fund-details'>
                            United States / Financials / Capital Markets
                        </div>
                    </div>
                </div>
                <div class='popup-fund'>
                    <div class='fund-num'>
                        101<sup>%</sup>
                    </div>
                    <div class='fund-content'>
                        <div class='fund-name'>
                            EXTRA SPACE STORAGE
                        </div>
                        <div class='fund-details'>
                            United States / Real Estate / Equity Real Estate Investment Trusts (REITs)
                        </div>
                    </div>
                </div>
            `)

            //////END OF THE 40 HOVERABLE BOXES
            this.redraw()
        }

        redraw() {
            const vis = this;
            vis.draws++

            // Extract the width and height that was computed by CSS.
            const width = vis.chartDiv.clientWidth;
            const height = vis.chartDiv.clientHeight;
            vis.top = height * .03;
            vis.MARGIN = { top: vis.top, right: 50, bottom: height * .2, left: width * .1 };
            vis.gWIDTH = width - (vis.MARGIN.left + vis.MARGIN.right);
            vis.gHEIGHT = height - (vis.MARGIN.top + vis.MARGIN.bottom);

            // Use the extracted size to set the size of an SVG element.
            vis.svg
                .attr("width", width)
                .attr("height", height)

            // SET G
            vis.g.attr('width', vis.gWIDTH)
                .attr('height', vis.gHEIGHT)
                .attr('transform', 'translate(' + vis.MARGIN.left + ',' + vis.MARGIN.top + ')');

            const data = vis.data;

            // X SCALE
            const x = d3.scaleBand()
                .range([0, vis.gWIDTH])
                .paddingInner(0.32)
                .paddingOuter(0.2)
                .domain(data.map(d => d.year));

            // Y SCALE
            const y = d3.scaleLinear()
                .rangeRound([vis.gHEIGHT, 0])
                .domain([50, 0]);

            // BOTTOM LINE
            vis.line
                .attr("x1", 0)
                .attr("x2", width)
                .attr("y1", vis.gHEIGHT + vis.MARGIN.top - 1)
                .attr("y2", vis.gHEIGHT + vis.MARGIN.top - 1)
                .attr("stroke-width", 1.4)
                .attr("stroke", "rgb(221, 221, 221)");

            // ADD DATA ////////////////////////////////////////////////
            d3.selectAll('.stack-group').remove()

            vis.stack = vis.bars
                .selectAll("rect")
                .data(d3.stack().keys(keys)(data))
                .enter()
                .append("g")
                .attr('class', d => `stack-group ${d.key}`)
                .attr("fill", d => vis.z(d.key))
            // .on('mouseover', d =>console.log(d.key))

            vis.rects = vis.stack
                .selectAll("rect")
                .data(d => d)

            let counter = 0;
            let boxIndex = 0;
            let boxCategory = ['em', 'ch', 'dv', 'us'];

            vis.rects
                .enter()
                .append("rect")
                .attr('class', 'rects')
                .attr('id', (d, i) => {
                    const cat = boxIndex;

                    if (counter === 9) {
                        counter = 0;
                        boxIndex++;
                    } else {
                        counter++;
                    }

                    return `rect-${d.data.year}${boxCategory[cat]}`
                })
                .attr("width", d => d.data.year === '2021xx' ? x.bandwidth() * 1.4 : x.bandwidth())
                .attr("x", d => x(d.data.year))
                .attr("y", d => y(d[0]))
                .attr("height", d => {
                    const rectHeight = y(d[1]) - y(d[0]) - 1;
                    return rectHeight >= 0 ? rectHeight : 0;
                })
                .on('mousemove', handleHover)
                .on('mouseout', handleOut)
                .on('click', handleRectClick)
                .attr('opacity', vis.draws === 1 ? 0 : 1)
                .transition()
                .duration(1000)
                .delay((d, i) => i * 150 + 100)
                .attr('opacity', 1);

            //////////////////////////////// HANDLING FUNCTIONS

            const svgElement = document.querySelector('#chart svg')
            function handleHover(d) {
                if (window.orientation <= -90) return

                const currentPopup = document.getElementById(`popup-${this.id.slice(5)}`)
                currentPopup.style.opacity = 1;
                currentPopup.style.pointerEvents = 'all'
            }

            function handleOut(d) {
                if (window.orientation <= -90) return

                const currentPopup = document.getElementById(`popup-${this.id.slice(5)}`)
                const clicked = currentPopup.getAttribute('clicked');

                if (clicked === null || clicked === 'false') {
                    currentPopup.style.opacity = 0;
                    currentPopup.style.pointerEvents = 'none';
                }

            }

            function handleRectClick(d) {
                console.warn('handleRectClick')
                const currentPopup = document.getElementById(`popup-${this.id.slice(5)}`)
                const clicked = currentPopup.getAttribute('clicked');

                if (!clicked || clicked === 'false') {
                    currentPopup.setAttribute('clicked', true)
                    currentPopup.style.opacity = 1;
                    currentPopup.style.pointerEvents = 'all'
                } else {
                    currentPopup.setAttribute('clicked', false)
                }
            }

            /////////////////////////////////////////////	
            const vertSpace = window.innerWidth < 1423 ? .022 : window.innerWidth < 1670 ? .029 : .035;
            const topRow = window.innerHeight * vertSpace;
            const middleRow = topRow + window.innerHeight * vertSpace;
            const bottomRow = middleRow + window.innerHeight * vertSpace;
            d3.selectAll('.year-text').remove();
            vis.svg
                .selectAll('.year-text')
                .data(data.map(d => d.year))
                .enter()
                .append('text')
                .attr('class', 'year-text')
                .attr('x', d => vis.MARGIN.left + x(d) + x.bandwidth() / 2)
                .attr('y', vis.gHEIGHT + vis.MARGIN.top)
                .attr('dy', topRow)
                .text(d => d)

            d3.selectAll('.bot-info').remove();
            vis.svg
                .selectAll('.bot-info')
                .data(data.map(d => d.year))
                .enter()
                .append('text')
                .attr('class', 'bot-info')
                .attr('x', d => vis.MARGIN.left + x(d) + x.bandwidth() / 2)
                .attr('y', vis.gHEIGHT + vis.MARGIN.top)
                .attr('dy', middleRow)
                .attr('fill', (d, i) => botInfoLine1[i][1])
                .attr('font-weight', (d, i) => botInfoLine1[i][1] !== 'black' ? 'bold' : 'normal')
                .text((d, i) => botInfoLine1[i][0])

            d3.selectAll('.bot-info2').remove();
            vis.svg
                .selectAll('.bot-info2')
                .data(data.map(d => d.year))
                .enter()
                .append('text')
                .attr('class', 'bot-info2')
                .attr('x', d => vis.MARGIN.left + x(d) + x.bandwidth() / 2)
                .attr('y', vis.gHEIGHT + vis.MARGIN.top)
                .attr('dy', bottomRow)
                .attr('fill', (d, i) => botInfoLine2[i][1])
                .attr('font-weight', (d, i) => botInfoLine2[i][1] !== 'black' ? 'bold' : 'normal')
                .text((d, i) => botInfoLine2[i][0])

            // bottom line labels
            vis.botText
                .attr('class', 'label-text')
                .attr('x', 0)
                .attr('y', vis.gHEIGHT + vis.MARGIN.top)
                .attr('dy', topRow)
                .text('Index return')
            vis.botText1
                .attr('class', 'label-text')
                .attr('x', 0)
                .attr('y', vis.gHEIGHT + vis.MARGIN.top)
                .attr('dy', middleRow)
                .text('U.S.')
            vis.botText2
                .attr('class', 'label-text')
                .attr('x', 0)
                .attr('y', vis.gHEIGHT + vis.MARGIN.top)
                .attr('dy', bottomRow)
                .text('Non-U.S.')


            // POSITION POPUPS
            setTimeout(() => {

                // 2012
                vis.box4
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box4.node().clientHeight * -.35)
                    .style('left', document.getElementById('rect-2012em').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2012em').getBoundingClientRect().top + 'px')
                vis.box5
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box5.node().clientHeight * -.44)
                    .style('left', document.getElementById('rect-2012ch').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2012ch').getBoundingClientRect().top + 'px')
                vis.box6
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box6.node().clientHeight * -.6)
                    .style('left', document.getElementById('rect-2012dv').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2012dv').getBoundingClientRect().top + 'px')
                vis.box7
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box7.node().clientHeight * -.75)
                    .style('left', document.getElementById('rect-2012us').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2012us').getBoundingClientRect().top + 'px')

                // 2013
                vis.box8
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box8.node().clientHeight * -.37)
                    .style('left', document.getElementById('rect-2013em').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2013em').getBoundingClientRect().top + 'px')
                vis.box9
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box9.node().clientHeight * -.47)
                    .style('left', document.getElementById('rect-2013ch').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2013ch').getBoundingClientRect().top + 'px')
                vis.box10
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box10.node().clientHeight * -.4)
                    .style('left', document.getElementById('rect-2013dv').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2013dv').getBoundingClientRect().top + 'px')
                vis.box11
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box11.node().clientHeight * -.65)
                    .style('left', document.getElementById('rect-2013us').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2013us').getBoundingClientRect().top + 'px')

                // 2014
                vis.box12
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box12.node().clientHeight * -.35)
                    .style('left', document.getElementById('rect-2014em').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2014em').getBoundingClientRect().top + 'px')
                vis.box13
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box13.node().clientHeight * -.44)
                    .style('left', document.getElementById('rect-2014ch').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2014ch').getBoundingClientRect().top + 'px')
                vis.box14
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box14.node().clientHeight * -.6)
                    .style('left', document.getElementById('rect-2014dv').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2014dv').getBoundingClientRect().top + 'px')
                vis.box15
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box15.node().clientHeight * -.69)
                    .style('left', document.getElementById('rect-2014us').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2014us').getBoundingClientRect().top + 'px')

                // 2015
                vis.box16
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box16.node().clientHeight * -.35)
                    .style('left', document.getElementById('rect-2015em').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2015em').getBoundingClientRect().top + 'px')
                vis.box17
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box17.node().clientHeight * -.47)
                    .style('left', document.getElementById('rect-2015ch').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2015ch').getBoundingClientRect().top + 'px')
                vis.box18
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box18.node().clientHeight * -.5)
                    .style('left', document.getElementById('rect-2015dv').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2015dv').getBoundingClientRect().top + 'px')
                vis.box19
                    .style('margin-left', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box19.node().clientHeight * -.75)
                    .style('left', document.getElementById('rect-2015us').getBoundingClientRect().left + 'px')
                    .style('top', document.getElementById('rect-2015us').getBoundingClientRect().top + 'px')

                // THESE BOXES GET FLIPPED TO THE RIGHT
                // 2016
                vis.box20
                    .style('right', window.innerWidth - document.getElementById('rect-2016em').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box20.node().clientHeight * -.85)
                    .style('top', document.getElementById('rect-2016us').getBoundingClientRect().top + 'px')
                vis.box21
                    .style('right', window.innerWidth - document.getElementById('rect-2016ch').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box21.node().clientHeight * -.75)
                    .style('top', document.getElementById('rect-2016ch').getBoundingClientRect().top + 'px')
                vis.box22
                    .style('right', window.innerWidth - document.getElementById('rect-2016dv').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box22.node().clientHeight * -.75)
                    .style('top', document.getElementById('rect-2016dv').getBoundingClientRect().top + 'px')
                vis.box23
                    .style('right', window.innerWidth - document.getElementById('rect-2016us').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box23.node().clientHeight * -.7)
                    .style('top', document.getElementById('rect-2016us').getBoundingClientRect().top + 'px')

                // 2017
                vis.box24
                    .style('right', window.innerWidth - document.getElementById('rect-2017em').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box24.node().clientHeight * -.35)
                    .style('top', document.getElementById('rect-2017em').getBoundingClientRect().top + 'px')
                vis.box25
                    .style('right', window.innerWidth - document.getElementById('rect-2017ch').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box25.node().clientHeight * -.6)
                    .style('top', document.getElementById('rect-2017ch').getBoundingClientRect().top + 'px')
                vis.box26
                    .style('right', window.innerWidth - document.getElementById('rect-2017dv').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box26.node().clientHeight * -.76)
                    .style('top', document.getElementById('rect-2017dv').getBoundingClientRect().top + 'px')
                vis.box27
                    .style('right', window.innerWidth - document.getElementById('rect-2017us').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box27.node().clientHeight * -.82)
                    .style('top', document.getElementById('rect-2017us').getBoundingClientRect().top + 'px')

                // 2018
                vis.box28
                    .style('right', window.innerWidth - document.getElementById('rect-2018em').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box28.node().clientHeight * -.35)
                    .style('top', document.getElementById('rect-2018em').getBoundingClientRect().top + 'px')
                vis.box29
                    .style('right', window.innerWidth - document.getElementById('rect-2018ch').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box29.node().clientHeight * -.51)
                    .style('top', document.getElementById('rect-2018ch').getBoundingClientRect().top + 'px')
                vis.box30
                    .style('right', window.innerWidth - document.getElementById('rect-2018dv').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box30.node().clientHeight * -.55)
                    .style('top', document.getElementById('rect-2018dv').getBoundingClientRect().top + 'px')
                vis.box31
                    .style('right', window.innerWidth - document.getElementById('rect-2018us').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box31.node().clientHeight * -.6)
                    .style('top', document.getElementById('rect-2018us').getBoundingClientRect().top + 'px')

                // 2019
                vis.box32
                    .style('right', window.innerWidth - document.getElementById('rect-2019em').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box32.node().clientHeight * -.35)
                    .style('top', document.getElementById('rect-2019em').getBoundingClientRect().top + 'px')
                vis.box33
                    .style('right', window.innerWidth - document.getElementById('rect-2019ch').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box33.node().clientHeight * -.5)
                    .style('top', document.getElementById('rect-2019ch').getBoundingClientRect().top + 'px')
                vis.box34
                    .style('right', window.innerWidth - document.getElementById('rect-2019dv').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box34.node().clientHeight * -.75)
                    .style('top', document.getElementById('rect-2019dv').getBoundingClientRect().top + 'px')
                vis.box35
                    .style('right', window.innerWidth - document.getElementById('rect-2019us').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box35.node().clientHeight * -.83)
                    .style('top', document.getElementById('rect-2019us').getBoundingClientRect().top + 'px')

                // 2020
                vis.box36
                    .style('right', window.innerWidth - document.getElementById('rect-2020em').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box36.node().clientHeight * -.5)
                    .style('top', document.getElementById('rect-2020em').getBoundingClientRect().top + 'px')
                vis.box37
                    .style('right', window.innerWidth - document.getElementById('rect-2020ch').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box37.node().clientHeight * -.4)
                    .style('top', document.getElementById('rect-2020ch').getBoundingClientRect().top + 'px')
                vis.box38
                    .style('right', window.innerWidth - document.getElementById('rect-2020dv').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box38.node().clientHeight * -.5)
                    .style('top', document.getElementById('rect-2020dv').getBoundingClientRect().top + 'px')
                vis.box39
                    .style('right', window.innerWidth - document.getElementById('rect-2020us').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box39.node().clientHeight * -.78)
                    .style('top', document.getElementById('rect-2020us').getBoundingClientRect().top + 'px')

                // 2021
                vis.box
                    .style('right', window.innerWidth - document.getElementById('rect-2021em').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box.node().clientHeight * -.35)
                    .style('top', document.getElementById('rect-2021em').getBoundingClientRect().top + 'px')
                vis.box1
                    .style('right', window.innerWidth - document.getElementById('rect-2021ch').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box1.node().clientHeight * -.4)
                    .style('top', document.getElementById('rect-2021ch').getBoundingClientRect().top + 'px')
                vis.box2
                    .style('right', window.innerWidth - document.getElementById('rect-2021dv').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box2.node().clientHeight * -.65)
                    .style('top', document.getElementById('rect-2021dv').getBoundingClientRect().top + 'px')
                vis.box3
                    .style('right', window.innerWidth - document.getElementById('rect-2021us').getBoundingClientRect().right + 'px')
                    .style('margin-right', x.bandwidth() * .6 + 'px')
                    .style('margin-top', vis.box3.node().clientHeight * -.79)
                    .style('top', document.getElementById('rect-2021us').getBoundingClientRect().top + 'px')

                // center the text under the last bar
                // moveLastXLabel()
                // function moveLastXLabel() {
                //     const bw = document.getElementById('rect-2021em').getBoundingClientRect().width; // 2021
                //     const yearTexts = document.querySelectorAll('.year-text');
                //     yearTexts[yearTexts.length - 1].setAttribute('dx', bw * .16);
                //     const botTexts = document.querySelectorAll('.bot-info');
                //     botTexts[botTexts.length - 1].setAttribute('dx', bw * .16);
                //     const botRow = document.querySelectorAll('.bot-info2');
                //     botRow[botRow.length - 1].setAttribute('dx', bw * .16);
                // }

            }, 1300);

        }
    }

    //*************************************************************************************************//
    //*************************************************************************************************//
    //*************************************************************************************************//
    //*************************************************************************************************//


    class drawScatterPlot {
        constructor(data, chart, key, domain, ticks) {
            this.draws = 0;
            this.data = data;
            this.chart = chart;
            this.xKey = key;
            this.yKey = 'yVal';
            this.domain = domain;
            this.ticks = ticks;

            this.initVis();
        }

        initVis() {
            const vis = this;

            // CHART
            vis.chartDiv = document.getElementById(vis.chart);
            vis.svg = d3.select(vis.chartDiv).append("svg").attr('id', 'g-line');

            // APPEND G
            vis.g = vis.svg
                .append('g')
                .attr('class', 'svg-thing')

            vis.zeroLine = vis.g
                .append('line')

            vis.dots = vis.g.append('g').attr('class', 'dots')

            // APPEND X AXIS 
            vis.xAxis = vis.g
                .append('g')
                .attr('class', 'axis x-axis p-16 demi')
                .style('opacity', '.4')

            // APPEND Y AXIS 
            vis.yAxis = vis.g
                .append('g')
                .style('text-anchor', 'end')
                .attr('class', 'axis y-axis p-16 demi')
                .style('opacity', '.4')

            vis.titleSide = document.getElementById('y-label')
            vis.widthOnly = document.getElementById('width-only')

            // vis.titleSide2 = document.getElementById('y-label-2')
            // vis.widthOnly2 = document.getElementById('width-only-2')
            this.redraw();
        }

        redraw() {
            const vis = this;

            const seismicApp = window.innerWidth < 1100;

            // Extract the width and height that was computed by CSS.
            vis.width = vis.chartDiv.clientWidth;
            vis.height = vis.chartDiv.clientHeight;
            vis.bottom = vis.height * .11;
            vis.top = 10;
            vis.MARGIN = { top: vis.top, right: vis.width * .015, bottom: vis.bottom, left: vis.width * .08 };
            vis.gWIDTH = vis.width - (vis.MARGIN.left + vis.MARGIN.right);
            vis.gHEIGHT = vis.height - (vis.MARGIN.top + vis.MARGIN.bottom);

            vis.draws += 1;

            // Use the extracted size to set the size of an SVG element.
            vis.svg
                .attr("width", vis.width)
                .attr("height", vis.height);

            // SET G
            vis.g.attr('width', vis.gWIDTH)
                .attr('height', vis.gHEIGHT)
                .attr('transform', 'translate(' + vis.MARGIN.left + ',' + vis.MARGIN.top + ')');

            ///////////////////////////////////////////////////////

            let yMax = 20;
            let yMin = -20;

            const y = d3.scaleLinear()
                .range([vis.gHEIGHT, 0])
                .domain([yMin, yMax]);

            // X SCALE
            vis.x = d3
                .scaleLinear()
                .domain([vis.domain[0], vis.domain[1]])
                .range([0, vis.gWIDTH])
            const x = vis.x;

            //////////////////////////////// X AXIS
            const xAxisCall = d3.axisBottom()
                .tickSizeOuter([0])
                .tickValues(vis.ticks)
                .tickSize(-vis.gHEIGHT)
                .tickPadding(vis.MARGIN.bottom * .35)
                .tickFormat(e => {
                    return e + '%'
                });

            if (vis.draws === 1) {
                vis.xAxis
                    .call(xAxisCall.scale(x))
                    .attr('transform', `translate(${0}, ${y(yMin)})`)
                    .transition()
                    .duration(2500)
                    .delay(100)
                    .attr('transform', `translate(${0}, ${y(yMin)})`)
            } else {
                vis.xAxis
                    .transition()
                    .delay(0)
                    .duration(1000)
                    .attr('transform', `translate(${0}, ${y(yMin)})`)
                    .call(xAxisCall.scale(x))
            }

            //////////////////////////////// Y AXIS
            let xOffset = seismicApp ? 9 : 10;
            const yAxisCall = d3.axisLeft()
                .ticks(5)
                .tickSize(-vis.gWIDTH)
                .tickPadding(vis.MARGIN.left * .37)
                .tickFormat(e => {
                    if (e === 50)
                        return '50%'
                    return e + '%'
                })

            if (vis.draws === 1) {
                vis.yAxis
                    .attr('transform', `translate(${0},0)`)
                    .call(yAxisCall.scale(y).tickSizeOuter([0]))

            } else {
                vis.yAxis
                    .transition()
                    .delay(0)
                    .duration(1000)
                    .attr('transform', `translate(${0},0)`)
                    .call(yAxisCall.scale(y).tickSizeOuter([0]))
            }

            ////////////////////////////////
            const dots = vis.dots.selectAll('.dot').data(vis.data)

            dots.exit().remove()

            dots
                .transition()
                .duration(1000)
                .attr('cx', d => x(d[vis.xKey] * 100))
                .attr('cy', d => y(d[vis.yKey] * 100))
                .attr('r', vis.gWIDTH * .006)

            dots
                .enter()
                .append('circle')
                .attr('class', 'dot')
                .style('fill', d => d.date.getFullYear() < 2000 ? '#8BDDFF' : d.date.getFullYear() < 2010 ? '#004776' : '#11827F')
                .attr('cx', d => x(d[vis.xKey] * 100))
                .attr('cy', d => y(d[vis.yKey] * 100))
                .attr('r', vis.gWIDTH * .006)

            // ROTATED SIDE TITLE
            // vis.titleSide.style.left = -vis.titleSide.clientWidth / 2 - (vis.titleSide.clientHeight / 3) + 'px';
            setTimeout(() => {
                if (document.querySelector('#chart-3').clientHeight > vis.widthOnly.clientWidth)
                    setTimeout(() => {
                        vis.titleSide.style.marginTop = -(document.querySelector('#chart-3').clientHeight - vis.widthOnly.clientWidth) * .9 + 'px';
                    }, 0);
                else {
                    vis.titleSide.style.marginTop = '-5px'
                }

                // if (document.querySelector('#chart-3').clientHeight > vis.widthOnly2.clientWidth)
                //     setTimeout(() => {
                //         vis.titleSide2.style.marginTop = -(document.querySelector('#chart-3').clientHeight - vis.widthOnly2.clientWidth) * .6 + 'px';
                //     }, 0);
                // else {
                //     vis.titleSide2.style.marginTop = '-5px'
                // }
            }, 800);

            vis.zeroLine
                .attr('x1', 0)
                .attr('y1', y(0))
                .attr('x2', vis.gWIDTH)
                .attr('y2', y(0))
                .attr('stroke', 'rgba(0,0,0,.4)')
                .attr('stroke-width', 1)
                .attr('opacity', 1)

        } // end redraw
    } //end class


    //**************************************************************************//
    //**************************************************************************//

    function toggleScatterPlots(num) {

        const slider = document.getElementById('toggle-slider-2')
        const toggleWords = document.querySelectorAll('.line-toggle-pill-4 button')
        const charts = document.querySelectorAll('.scatterchart');
        const labels = document.getElementById('chart-labels');
        const menus = document.querySelectorAll('.menu-4')
        const botTitles = document.querySelectorAll('.bot-title')
        const toggletitles = document.querySelectorAll('.the-last-thing')

        if (num === 0) {
            slider.style.left = '-1%';
            toggleWords[0].classList.add('toggle-on')
            toggleWords[1].classList.remove('toggle-on')
            toggleWords[2].classList.remove('toggle-on')

            charts[0].classList.add('active')
            charts[1].classList.remove('active')
            charts[2].classList.remove('active')

            labels.classList.remove('active')

            menus[0].classList.add('active')
            menus[1].classList.remove('active')

            botTitles[0].classList.remove('active')
            botTitles[1].classList.remove('active')

            toggletitles[0].classList.remove('active')
            toggletitles[1].classList.remove('active')

        } else if (num === 1) {
            slider.style.left = '32.33%'
            toggleWords[0].classList.remove('toggle-on')
            toggleWords[1].classList.add('toggle-on')
            toggleWords[2].classList.remove('toggle-on')

            charts[0].classList.remove('active')
            charts[1].classList.add('active')
            charts[2].classList.remove('active')

            labels.classList.add('active')

            menus[0].classList.remove('active')
            menus[1].classList.add('active')

            botTitles[0].classList.add('active')
            botTitles[1].classList.remove('active')

            toggletitles[0].classList.add('active')
            toggletitles[1].classList.remove('active')

        } else if (num === 2) {
            slider.style.left = '66.66%'
            toggleWords[0].classList.remove('toggle-on')
            toggleWords[1].classList.remove('toggle-on')
            toggleWords[2].classList.add('toggle-on')

            charts[0].classList.remove('active')
            charts[1].classList.remove('active')
            charts[2].classList.add('active')

            labels.classList.add('active')

            menus[0].classList.remove('active')
            menus[1].classList.add('active')

            botTitles[0].classList.remove('active')
            botTitles[1].classList.add('active')

            toggletitles[0].classList.remove('active')
            toggletitles[1].classList.add('active')
        }
    }

    //**************************************************************************//
    //**************************************************************************//
    const lines = new drawCorrelation();
    const years0 = ['1990', "1995", '2000', '2005', '2010', '2015', '2021']

    const boxWidth = ['1/1/2006', '1/1/2000']
    const leftBoxPosition = '1/1/91'
    const greyboxPosition = '1/15/1999'
    const mountain = new drawMountain('chart-2', mountainData, ['scwf', 'index'], 340000, years0, 'SMALLCAP World<br> Fund F-2', '1.9', ["10.88", 2.2, 8.65], [boxWidth, leftBoxPosition, greyboxPosition], 1);
    const stackedBars = new drawStackedBars();
    const scatter1 = new drawScatterPlot(scatterData, 'chart-3', 'msci', [-20, 20], [-20, -10, 0, 10, 20]);
    const scatter2 = new drawScatterPlot(scatterData, 'chart-4', 'sp', [-20, 30], [-20, -10, 0, 10, 20, 30]);

    const boxWidth2 = ['1/1/2008', '1/1/2000']
    const boxX = '1/1/76'
    const box2x = '1/15/1986'
    const years = ['1973', '1977', '1981', '1985', '1989', '1993', "1997", '2001', '2005', '2009', '2013', '2017', '2021']
    const mountainNPF = new drawMountain('chart-5', mountainData2, ['npf', 'index'], 4200000, years, 'New Perspective<br> Fund F-2', '5.6', ["13.0", 3.9, 9.1], [boxWidth2, boxX, box2x], 2);

    function redraw() {
        lines.wrangle(lowDate, highDate)
        mountain.redraw();
        stackedBars.redraw();
        scatter1.redraw();
        scatter2.redraw();
        mountainNPF.redraw();
    }
    window.addEventListener("resize", () => redraw());

    //**************************************************************************//
    //**************************************************************************//
    //**************************************************************************//
    //**************************************************************************//

    document.querySelectorAll('.popup-box').forEach(el => {
        el.addEventListener('click', clickBox)
        el.addEventListener('mouseover', !(window.orientation >= -90) ? showBox : null)
        el.addEventListener('mouseout', !(window.orientation >= -90) ? outPopup : null)
    });

    function clickBox() {
        this.style.opacity = 0;
        this.style.pointerEvents = 'none';
        this.setAttribute('clicked', false)
    }
    function showBox() {
        const currentPopup = this;
        currentPopup.setAttribute('hovering', true);
        currentPopup.style.opacity = 1;
        currentPopup.style.pointerEvents = 'all'
    }
    function outPopup() {
        const currentPopup = this;
        currentPopup.setAttribute('hovering', false);
        const clicked = currentPopup.getAttribute('clicked');
        if (!clicked || clicked === 'false') {

            currentPopup.style.opacity = 0;
            currentPopup.style.pointerEvents = 'none'
        }
    }

</script>


</html>